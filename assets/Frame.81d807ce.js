import{L as Ke}from"./Link.d8a08e68.js";import{A as We}from"./AnimatedRouterView.d6e50789.js";import{t as J,D as xe,d as Z,j as Y,c as oe,n as E,a as S,I as Ge,o as P,_ as ne,u as Ee,z as Oe,i as Pe,E as je,y as He,e as ce,b as le,l as be,f as H,J as Qe,w as me,F as Ue,s as Je,K as Ye,x as Ze,m as Xe,L as et,M as tt,v as Me,k as ke,N as Ae,O as Le,C as Fe,q as st,P as nt,Q as rt,R as it,r as ot,g as at}from"./index.2e731f66.js";import{B as ue}from"./Button.bdaf522e.js";import{u as lt}from"./useResizeObserver.e926bc71.js";import"./Icon.03638315.js";import"./useThemeStyles.fccc01ab.js";const ct=p=>{const g=J([]),a=new MutationObserver(n=>{g.value=n});return xe(p,n=>{a.disconnect(),n&&a.observe(n,{subtree:!0,childList:!0})}),g},ut=p=>{const g=J(new DOMRect),a=ct(p),n=lt(p);return xe([a,n],()=>{const d=p.value;d&&(d.style.setProperty("position","fixed"),g.value=d.getBoundingClientRect(),d.style.removeProperty("position"))}),g},dt=(p,g,a)=>{const n=document.createElement("a");n.style.display="none",document.body.appendChild(n);const i=new Blob([p],{type:a});n.href=URL.createObjectURL(i),n.download=g,n.click(),document.body.removeChild(n)},ht=({accept:p,multiple:g}={})=>{const a=document.createElement("input");return document.body.appendChild(a),a.type="file",a.style.display="none",p&&(a.accept=p),g&&(a.multiple=g),new Promise((n,i)=>{a.onchange=()=>{var _;const d=Array.from((_=a.files)!=null?_:[]);document.body.removeChild(a),d.length?n(g?d:d[0]):i()},a.click()})},pt=Z({__name:"CloudButton",props:{class:null},setup(p){const g=p,a=Y(()=>g.class),{login:n,state:i}=Ge(),d=Y(()=>{switch(i.status){case"syncing":return"refresh-line";case"idle":return"cloud-off-line"}return"cloud-line"}),_=Y(()=>{switch(i.status){case"authenticated":return"success";case"loading":return"warning";case"idle":return"danger";case"syncing":return"primary"}return"danger"}),y=()=>{i.status==="idle"&&n()};return(r,$)=>(P(),oe(ue,{class:E([r.$style.cloudButton,S(a)]),onClick:y,textual:"",color:S(_),icon:S(d)},null,8,["class","color","icon"]))}}),ft={},_t={$style:ft},mt=ne(pt,[["__cssModules",_t]]),gt=Z({__name:"ExportButton",props:{class:null},setup(p){const g=p,a=Y(()=>g.class),{serialize:n}=Oe(),{t:i}=Ee(),d=()=>{dt(n(),`${i("export.fileName")}.json`,"application/json")};return(_,y)=>(P(),oe(ue,{class:E(S(a)),icon:"download-cloud-2-line",color:"dimmed",textual:"",onClick:d},null,8,["class"]))}}),yt=Z({__name:"Dialog",props:{open:{type:Boolean}},emits:["close"],setup(p,{emit:g}){const a=p,n=J(!1),i=J(),d=J(),_=Pe(),y=Y(()=>[_.dialog,{[_.open]:n.value}]),r=b=>{a.open&&!b.composedPath().includes(i.value)&&g("close")},$=()=>{var b;a.open||(b=d.value)==null||b.close()};return xe(()=>a.open,b=>{var T;b?((T=d.value)==null||T.showModal(),n.value=!0):n.value=!1}),je(()=>window.removeEventListener("click",r)),He(()=>{a.open,requestAnimationFrame(()=>{a.open?window.addEventListener("click",r):window.removeEventListener("click",r)})}),(b,T)=>(P(),ce("dialog",{ref_key:"dialog",ref:d,class:E(S(y)),onTransitionend:$},[le("div",{ref_key:"content",ref:i,class:E(b.$style.content)},[be(b.$slots,"default")],2)],34))}}),vt="_5x _5y _5z _60 _62 _64 _66",kt="_61 _63 _65 _67",bt="_68",wt={dialog:vt,open:kt,content:bt},Ct={$style:wt},Et=ne(yt,[["__cssModules",Ct]]),$t=Z({__name:"DialogButton",props:{class:null,icon:null,text:null,color:null,textual:{type:Boolean},inline:{type:Boolean}},emits:["close"],setup(p,{expose:g,emit:a}){const n=p,i=J(!1),d=()=>{i.value=!1,a("close")};return g({close:()=>i.value=!1}),(_,y)=>(P(),ce(Ue,null,[H(ue,Qe(n,{onClick:y[0]||(y[0]=r=>i.value=!0)}),null,16),H(Et,{open:i.value,onClose:d},{default:me(()=>[be(_.$slots,"default")]),_:3},8,["open"])],64))}}),Ne=Symbol("OnboardingStore"),Rt=Z({__name:"Step",props:{class:null},setup(p){const g=p,a=J(),n=ut(a),{register:i,unregister:d}=Ye(Ne);Je(()=>i(n)),je(()=>d(n));const _=Y(()=>g.class);return(y,r)=>(P(),ce("div",{ref_key:"root",ref:a,class:E([y.$style.step,S(_)])},[be(y.$slots,"default")],2))}}),St="_41",xt="_42",Ot={step:St,shadow:xt},Mt={$style:Ot},Be=ne(Rt,[["__cssModules",Mt]]),Tt=Z({__name:"Steps",props:{class:null},emits:["finish"],setup(p,{expose:g,emit:a}){const n=p;Xe(D=>({"459c6352":S(r).width,"54210d1b":S(r).height,"5131b0a1":S($)}));const i=J(),d=Ze([]),_=Y(()=>n.class),y=J(0),r=Y(()=>{var D,z;return(z=(D=d[y.value])==null?void 0:D.value)!=null?z:new DOMRect}),$=Y(()=>d.slice(0,y.value).reduce((D,z)=>D+z.value.width,0));et(Ne,{register:D=>d.push(D),unregister:D=>tt(d,D)});const b=()=>y.value=0,T=()=>y.value=Math.max(0,y.value-1),N=()=>{y.value+1<d.length?y.value++:a("finish")};return g({reset:b,previous:T,next:N}),(D,z)=>(P(),ce("div",{ref_key:"root",ref:i,class:E([D.$style.steps,S(_)])},[be(D.$slots,"default",{next:N,previous:T,reset:b})],2))}}),Dt="_45 _46",It={steps:Dt},At={$style:It},Lt=ne(Tt,[["__cssModules",At]]),Ft=Z({__name:"FilePicker",props:{modelValue:null,class:null,placeholder:null,accept:null},emits:["update:model-value"],setup(p,{emit:g}){const a=p,n=Pe(),i=Y(()=>[a.class,n.filePicker,{[n.empty]:!a.modelValue}]),d=()=>{var _;ht({accept:(_=a.accept)==null?void 0:_.join(","),multiple:!1}).then(y=>{g("update:model-value",y)})};return(_,y)=>{var r,$;return P(),ce("button",{onClick:d,class:E(S(i))},[le("span",{class:E(_.$style.label)},Me(($=(r=p.modelValue)==null?void 0:r.name)!=null?$:p.placeholder),3)],2)}}}),Bt="_4s _4t _4v _4x _4y _4z",zt="_4u",Pt="_4w _51",jt="_50",Ut={filePicker:Bt,icon:zt,label:Pt,empty:jt},Nt={$style:Ut},Se=ne(Ft,[["__cssModules",Nt]]),qt=Z({__name:"Screen",props:{class:null,title:null,back:null},setup(p){const g=p,a=Y(()=>g.class);return(n,i)=>(P(),ce("div",{class:E(n.$style.screen)},[p.title?(P(),ce("h1",{key:0,class:E(n.$style.title)},[p.back?(P(),oe(ue,{key:0,color:"dark",icon:"arrow-left-s-line",textual:"",onClick:p.back},null,8,["onClick"])):ke("",!0),le("span",null,Me(p.title),1)],2)):ke("",!0),le("div",{class:E(S(a))},[be(n.$slots,"default")],2)],2))}}),Vt="_4q",Kt="_4r",Wt={screen:Vt,title:Kt},Gt={$style:Wt},qe=ne(qt,[["__cssModules",Gt]]),Ht=Z({__name:"BudgetFileScreen",props:{back:null},emits:["loaded"],setup(p,{emit:g}){const{deserialize:a}=Oe(),n=J(),{t:i}=Ee(),d=async()=>{n.value&&(await a(n.value),g("loaded"))};return(_,y)=>(P(),oe(qe,{back:p.back,class:E(_.$style.screen),title:S(i)("import.start.budgeter")},{default:me(()=>[H(Se,{modelValue:n.value,"onUpdate:modelValue":y[0]||(y[0]=r=>n.value=r),class:E(_.$style.input),placeholder:S(i)("import.budgeter.pickFile"),accept:[".budget"]},null,8,["modelValue","class","placeholder","accept"]),n.value?(P(),oe(ue,{key:0,icon:"upload-cloud-2-line",text:S(i)("import.import"),onClick:d},null,8,["text"])):ke("",!0)]),_:1},8,["back","class","title"]))}}),Qt="_3u",Jt="_3v",Yt={screen:Qt,input:Jt},Zt={$style:Yt},Xt=ne(Ht,[["__cssModules",Zt]]);var es=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ve={exports:{}};/* @license
Papa Parse
v5.3.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(p,g){(function(a,n){p.exports=n()})(es,function a(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i=!n.document&&!!n.postMessage,d=i&&/blob:/i.test((n.location||{}).protocol),_={},y=0,r={parse:function(t,e){var s=(e=e||{}).dynamicTyping||!1;if(x(s)&&(e.dynamicTypingFunction=s,s={}),e.dynamicTyping=s,e.transform=!!x(e.transform)&&e.transform,e.worker&&r.WORKERS_SUPPORTED){var l=function(){if(!r.WORKERS_SUPPORTED)return!1;var v=(q=n.URL||n.webkitURL||null,I=a.toString(),r.BLOB_URL||(r.BLOB_URL=q.createObjectURL(new Blob(["(",I,")();"],{type:"text/javascript"})))),w=new n.Worker(v),q,I;return w.onmessage=$e,w.id=y++,_[w.id]=w}();return l.userStep=e.step,l.userChunk=e.chunk,l.userComplete=e.complete,l.userError=e.error,e.step=x(e.step),e.chunk=x(e.chunk),e.complete=x(e.complete),e.error=x(e.error),delete e.worker,void l.postMessage({input:t,config:e,workerId:l.id})}var c=null;return r.NODE_STREAM_INPUT,typeof t=="string"?c=e.download?new T(e):new D(e):t.readable===!0&&x(t.read)&&x(t.on)?c=new z(e):(n.File&&t instanceof File||t instanceof Object)&&(c=new N(e)),c.stream(t)},unparse:function(t,e){var s=!1,l=!0,c=",",v=`\r
`,w='"',q=w+w,I=!1,u=null,F=!1;(function(){if(typeof e=="object"){if(typeof e.delimiter!="string"||r.BAD_DELIMITERS.filter(function(o){return e.delimiter.indexOf(o)!==-1}).length||(c=e.delimiter),(typeof e.quotes=="boolean"||typeof e.quotes=="function"||Array.isArray(e.quotes))&&(s=e.quotes),typeof e.skipEmptyLines!="boolean"&&typeof e.skipEmptyLines!="string"||(I=e.skipEmptyLines),typeof e.newline=="string"&&(v=e.newline),typeof e.quoteChar=="string"&&(w=e.quoteChar),typeof e.header=="boolean"&&(l=e.header),Array.isArray(e.columns)){if(e.columns.length===0)throw new Error("Option columns is empty");u=e.columns}e.escapeChar!==void 0&&(q=e.escapeChar+w),(typeof e.escapeFormulae=="boolean"||e.escapeFormulae instanceof RegExp)&&(F=e.escapeFormulae instanceof RegExp?e.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var f=new RegExp(_e(w),"g");if(typeof t=="string"&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return re(null,t,I);if(typeof t[0]=="object")return re(u||Object.keys(t[0]),t,I)}else if(typeof t=="object")return typeof t.data=="string"&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields||u),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:typeof t.data[0]=="object"?Object.keys(t.data[0]):[]),Array.isArray(t.data[0])||typeof t.data[0]=="object"||(t.data=[t.data])),re(t.fields||[],t.data||[],I);throw new Error("Unable to serialize unrecognized input");function re(o,O,W){var A="";typeof o=="string"&&(o=JSON.parse(o)),typeof O=="string"&&(O=JSON.parse(O));var V=Array.isArray(o)&&0<o.length,j=!Array.isArray(O[0]);if(V&&l){for(var U=0;U<o.length;U++)0<U&&(A+=c),A+=K(o[U],U);0<O.length&&(A+=v)}for(var h=0;h<O.length;h++){var R=V?o.length:O[h].length,M=!1,B=V?Object.keys(O[h]).length===0:O[h].length===0;if(W&&!V&&(M=W==="greedy"?O[h].join("").trim()==="":O[h].length===1&&O[h][0].length===0),W==="greedy"&&V){for(var k=[],C=0;C<R;C++){var L=j?o[C]:C;k.push(O[h][L])}M=k.join("").trim()===""}if(!M){for(var m=0;m<R;m++){0<m&&!B&&(A+=c);var he=V&&j?o[m]:m;A+=K(O[h][he],m)}h<O.length-1&&(!W||0<R&&!B)&&(A+=v)}}return A}function K(o,O){if(o==null)return"";if(o.constructor===Date)return JSON.stringify(o).slice(1,25);var W=!1;F&&typeof o=="string"&&F.test(o)&&(o="'"+o,W=!0);var A=o.toString().replace(f,q);return(W=W||s===!0||typeof s=="function"&&s(o,O)||Array.isArray(s)&&s[O]||function(V,j){for(var U=0;U<j.length;U++)if(-1<V.indexOf(j[U]))return!0;return!1}(A,r.BAD_DELIMITERS)||-1<A.indexOf(c)||A.charAt(0)===" "||A.charAt(A.length-1)===" ")?w+A+w:A}}};if(r.RECORD_SEP=String.fromCharCode(30),r.UNIT_SEP=String.fromCharCode(31),r.BYTE_ORDER_MARK="\uFEFF",r.BAD_DELIMITERS=["\r",`
`,'"',r.BYTE_ORDER_MARK],r.WORKERS_SUPPORTED=!i&&!!n.Worker,r.NODE_STREAM_INPUT=1,r.LocalChunkSize=10485760,r.RemoteChunkSize=5242880,r.DefaultDelimiter=",",r.Parser=te,r.ParserHandle=we,r.NetworkStreamer=T,r.FileStreamer=N,r.StringStreamer=D,r.ReadableStreamStreamer=z,n.jQuery){var $=n.jQuery;$.fn.parse=function(t){var e=t.config||{},s=[];return this.each(function(v){if(!($(this).prop("tagName").toUpperCase()==="INPUT"&&$(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var w=0;w<this.files.length;w++)s.push({file:this.files[w],inputElem:this,instanceConfig:$.extend({},e)})}),l(),this;function l(){if(s.length!==0){var v,w,q,I,u=s[0];if(x(t.before)){var F=t.before(u.file,u.inputElem);if(typeof F=="object"){if(F.action==="abort")return v="AbortError",w=u.file,q=u.inputElem,I=F.reason,void(x(t.error)&&t.error({name:v},w,q,I));if(F.action==="skip")return void c();typeof F.config=="object"&&(u.instanceConfig=$.extend(u.instanceConfig,F.config))}else if(F==="skip")return void c()}var f=u.instanceConfig.complete;u.instanceConfig.complete=function(re){x(f)&&f(re,u.file,u.inputElem),c()},r.parse(u.file,u.instanceConfig)}else x(t.complete)&&t.complete()}function c(){s.splice(0,1),l()}}}function b(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var s=Re(e);s.chunkSize=parseInt(s.chunkSize),e.step||e.chunk||(s.chunkSize=null),this._handle=new we(s),(this._handle.streamer=this)._config=s}.call(this,t),this.parseChunk=function(e,s){if(this.isFirstChunk&&x(this._config.beforeFirstChunk)){var l=this._config.beforeFirstChunk(e);l!==void 0&&(e=l)}this.isFirstChunk=!1,this._halted=!1;var c=this._partialLine+e;this._partialLine="";var v=this._handle.parse(c,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var w=v.meta.cursor;this._finished||(this._partialLine=c.substring(w-this._baseIndex),this._baseIndex=w),v&&v.data&&(this._rowCount+=v.data.length);var q=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(d)n.postMessage({results:v,workerId:r.WORKER_ID,finished:q});else if(x(this._config.chunk)&&!s){if(this._config.chunk(v,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);v=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(v.data),this._completeResults.errors=this._completeResults.errors.concat(v.errors),this._completeResults.meta=v.meta),this._completed||!q||!x(this._config.complete)||v&&v.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),q||v&&v.meta.paused||this._nextChunk(),v}this._halted=!0},this._sendError=function(e){x(this._config.error)?this._config.error(e):d&&this._config.error&&n.postMessage({workerId:r.WORKER_ID,error:e,finished:!1})}}function T(t){var e;(t=t||{}).chunkSize||(t.chunkSize=r.RemoteChunkSize),b.call(this,t),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(s){this._input=s,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),i||(e.onload=de(this._chunkLoaded,this),e.onerror=de(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var s=this._config.downloadRequestHeaders;for(var l in s)e.setRequestHeader(l,s[l])}if(this._config.chunkSize){var c=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+c)}try{e.send(this._config.downloadRequestBody)}catch(v){this._chunkError(v.message)}i&&e.status===0&&this._chunkError()}},this._chunkLoaded=function(){e.readyState===4&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:e.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(s){var l=s.getResponseHeader("Content-Range");return l===null?-1:parseInt(l.substring(l.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(s){var l=e.statusText||s;this._sendError(new Error(l))}}function N(t){var e,s;(t=t||{}).chunkSize||(t.chunkSize=r.LocalChunkSize),b.call(this,t);var l=typeof FileReader<"u";this.stream=function(c){this._input=c,s=c.slice||c.webkitSlice||c.mozSlice,l?((e=new FileReader).onload=de(this._chunkLoaded,this),e.onerror=de(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var c=this._input;if(this._config.chunkSize){var v=Math.min(this._start+this._config.chunkSize,this._input.size);c=s.call(c,this._start,v)}var w=e.readAsText(c,this._config.encoding);l||this._chunkLoaded({target:{result:w}})},this._chunkLoaded=function(c){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(c.target.result)},this._chunkError=function(){this._sendError(e.error)}}function D(t){var e;b.call(this,t=t||{}),this.stream=function(s){return e=s,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var s,l=this._config.chunkSize;return l?(s=e.substring(0,l),e=e.substring(l)):(s=e,e=""),this._finished=!e,this.parseChunk(s)}}}function z(t){b.call(this,t=t||{});var e=[],s=!0,l=!1;this.pause=function(){b.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){b.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(c){this._input=c,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){l&&e.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):s=!0},this._streamData=de(function(c){try{e.push(typeof c=="string"?c:c.toString(this._config.encoding)),s&&(s=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(v){this._streamError(v)}},this),this._streamError=de(function(c){this._streamCleanUp(),this._sendError(c)},this),this._streamEnd=de(function(){this._streamCleanUp(),l=!0,this._streamData("")},this),this._streamCleanUp=de(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function we(t){var e,s,l,c=Math.pow(2,53),v=-c,w=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,q=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,I=this,u=0,F=0,f=!1,re=!1,K=[],o={data:[],errors:[],meta:{}};if(x(t.step)){var O=t.step;t.step=function(h){if(o=h,V())A();else{if(A(),o.data.length===0)return;u+=h.data.length,t.preview&&u>t.preview?s.abort():(o.data=o.data[0],O(o,I))}}}function W(h){return t.skipEmptyLines==="greedy"?h.join("").trim()==="":h.length===1&&h[0].length===0}function A(){return o&&l&&(U("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+r.DefaultDelimiter+"'"),l=!1),t.skipEmptyLines&&(o.data=o.data.filter(function(h){return!W(h)})),V()&&function(){if(!o)return;function h(M,B){x(t.transformHeader)&&(M=t.transformHeader(M,B)),K.push(M)}if(Array.isArray(o.data[0])){for(var R=0;V()&&R<o.data.length;R++)o.data[R].forEach(h);o.data.splice(0,1)}else o.data.forEach(h)}(),function(){if(!o||!t.header&&!t.dynamicTyping&&!t.transform)return o;function h(M,B){var k,C=t.header?{}:[];for(k=0;k<M.length;k++){var L=k,m=M[k];t.header&&(L=k>=K.length?"__parsed_extra":K[k]),t.transform&&(m=t.transform(m,L)),m=j(L,m),L==="__parsed_extra"?(C[L]=C[L]||[],C[L].push(m)):C[L]=m}return t.header&&(k>K.length?U("FieldMismatch","TooManyFields","Too many fields: expected "+K.length+" fields but parsed "+k,F+B):k<K.length&&U("FieldMismatch","TooFewFields","Too few fields: expected "+K.length+" fields but parsed "+k,F+B)),C}var R=1;return!o.data.length||Array.isArray(o.data[0])?(o.data=o.data.map(h),R=o.data.length):o.data=h(o.data,0),t.header&&o.meta&&(o.meta.fields=K),F+=R,o}()}function V(){return t.header&&K.length===0}function j(h,R){return M=h,t.dynamicTypingFunction&&t.dynamicTyping[M]===void 0&&(t.dynamicTyping[M]=t.dynamicTypingFunction(M)),(t.dynamicTyping[M]||t.dynamicTyping)===!0?R==="true"||R==="TRUE"||R!=="false"&&R!=="FALSE"&&(function(B){if(w.test(B)){var k=parseFloat(B);if(v<k&&k<c)return!0}return!1}(R)?parseFloat(R):q.test(R)?new Date(R):R===""?null:R):R;var M}function U(h,R,M,B){var k={type:h,code:R,message:M};B!==void 0&&(k.row=B),o.errors.push(k)}this.parse=function(h,R,M){var B=t.quoteChar||'"';if(t.newline||(t.newline=function(L,m){L=L.substring(0,1048576);var he=new RegExp(_e(m)+"([^]*?)"+_e(m),"gm"),se=(L=L.replace(he,"")).split("\r"),X=L.split(`
`),pe=1<X.length&&X[0].length<se[0].length;if(se.length===1||pe)return`
`;for(var ie=0,ee=0;ee<se.length;ee++)se[ee][0]===`
`&&ie++;return ie>=se.length/2?`\r
`:"\r"}(h,B)),l=!1,t.delimiter)x(t.delimiter)&&(t.delimiter=t.delimiter(h),o.meta.delimiter=t.delimiter);else{var k=function(L,m,he,se,X){var pe,ie,ee,G;X=X||[",","	","|",";",r.RECORD_SEP,r.UNIT_SEP];for(var fe=0;fe<X.length;fe++){var Q=X[fe],ge=0,ae=0,Ie=0;ee=void 0;for(var ye=new te({comments:se,delimiter:Q,newline:m,preview:10}).parse(L),Ce=0;Ce<ye.data.length;Ce++)if(he&&W(ye.data[Ce]))Ie++;else{var ve=ye.data[Ce].length;ae+=ve,ee!==void 0?0<ve&&(ge+=Math.abs(ve-ee),ee=ve):ee=ve}0<ye.data.length&&(ae/=ye.data.length-Ie),(ie===void 0||ge<=ie)&&(G===void 0||G<ae)&&1.99<ae&&(ie=ge,pe=Q,G=ae)}return{successful:!!(t.delimiter=pe),bestDelimiter:pe}}(h,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);k.successful?t.delimiter=k.bestDelimiter:(l=!0,t.delimiter=r.DefaultDelimiter),o.meta.delimiter=t.delimiter}var C=Re(t);return t.preview&&t.header&&C.preview++,e=h,s=new te(C),o=s.parse(e,R,M),A(),f?{meta:{paused:!0}}:o||{meta:{paused:!1}}},this.paused=function(){return f},this.pause=function(){f=!0,s.abort(),e=x(t.chunk)?"":e.substring(s.getCharIndex())},this.resume=function(){I.streamer._halted?(f=!1,I.streamer.parseChunk(e,!0)):setTimeout(I.resume,3)},this.aborted=function(){return re},this.abort=function(){re=!0,s.abort(),o.meta.aborted=!0,x(t.complete)&&t.complete(o),e=""}}function _e(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function te(t){var e,s=(t=t||{}).delimiter,l=t.newline,c=t.comments,v=t.step,w=t.preview,q=t.fastMode,I=e=t.quoteChar===void 0||t.quoteChar===null?'"':t.quoteChar;if(t.escapeChar!==void 0&&(I=t.escapeChar),(typeof s!="string"||-1<r.BAD_DELIMITERS.indexOf(s))&&(s=","),c===s)throw new Error("Comment character same as delimiter");c===!0?c="#":(typeof c!="string"||-1<r.BAD_DELIMITERS.indexOf(c))&&(c=!1),l!==`
`&&l!=="\r"&&l!==`\r
`&&(l=`
`);var u=0,F=!1;this.parse=function(f,re,K){if(typeof f!="string")throw new Error("Input must be a string");var o=f.length,O=s.length,W=l.length,A=c.length,V=x(v),j=[],U=[],h=[],R=u=0;if(!f)return G();if(q||q!==!1&&f.indexOf(e)===-1){for(var M=f.split(l),B=0;B<M.length;B++){if(h=M[B],u+=h.length,B!==M.length-1)u+=l.length;else if(K)return G();if(!c||h.substring(0,A)!==c){if(V){if(j=[],X(h.split(s)),fe(),F)return G()}else X(h.split(s));if(w&&w<=B)return j=j.slice(0,w),G(!0)}}return G()}for(var k=f.indexOf(s,u),C=f.indexOf(l,u),L=new RegExp(_e(I)+_e(e),"g"),m=f.indexOf(e,u);;)if(f[u]!==e)if(c&&h.length===0&&f.substring(u,u+A)===c){if(C===-1)return G();u=C+W,C=f.indexOf(l,u),k=f.indexOf(s,u)}else if(k!==-1&&(k<C||C===-1))h.push(f.substring(u,k)),u=k+O,k=f.indexOf(s,u);else{if(C===-1)break;if(h.push(f.substring(u,C)),ee(C+W),V&&(fe(),F))return G();if(w&&j.length>=w)return G(!0)}else for(m=u,u++;;){if((m=f.indexOf(e,m+1))===-1)return K||U.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:j.length,index:u}),ie();if(m===o-1)return ie(f.substring(u,m).replace(L,e));if(e!==I||f[m+1]!==I){if(e===I||m===0||f[m-1]!==I){k!==-1&&k<m+1&&(k=f.indexOf(s,m+1)),C!==-1&&C<m+1&&(C=f.indexOf(l,m+1));var he=pe(C===-1?k:Math.min(k,C));if(f.substr(m+1+he,O)===s){h.push(f.substring(u,m).replace(L,e)),f[u=m+1+he+O]!==e&&(m=f.indexOf(e,u)),k=f.indexOf(s,u),C=f.indexOf(l,u);break}var se=pe(C);if(f.substring(m+1+se,m+1+se+W)===l){if(h.push(f.substring(u,m).replace(L,e)),ee(m+1+se+W),k=f.indexOf(s,u),m=f.indexOf(e,u),V&&(fe(),F))return G();if(w&&j.length>=w)return G(!0);break}U.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:j.length,index:u}),m++}}else m++}return ie();function X(Q){j.push(Q),R=u}function pe(Q){var ge=0;if(Q!==-1){var ae=f.substring(m+1,Q);ae&&ae.trim()===""&&(ge=ae.length)}return ge}function ie(Q){return K||(Q===void 0&&(Q=f.substring(u)),h.push(Q),u=o,X(h),V&&fe()),G()}function ee(Q){u=Q,X(h),h=[],C=f.indexOf(l,u)}function G(Q){return{data:j,errors:U,meta:{delimiter:s,linebreak:l,aborted:F,truncated:!!Q,cursor:R+(re||0)}}}function fe(){v(G()),j=[],U=[]}},this.abort=function(){F=!0},this.getCharIndex=function(){return u}}function $e(t){var e=t.data,s=_[e.workerId],l=!1;if(e.error)s.userError(e.error,e.file);else if(e.results&&e.results.data){var c={abort:function(){l=!0,Te(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:De,resume:De};if(x(s.userStep)){for(var v=0;v<e.results.data.length&&(s.userStep({data:e.results.data[v],errors:e.results.errors,meta:e.results.meta},c),!l);v++);delete e.results}else x(s.userChunk)&&(s.userChunk(e.results,c,e.file),delete e.results)}e.finished&&!l&&Te(e.workerId,e.results)}function Te(t,e){var s=_[t];x(s.userComplete)&&s.userComplete(e),s.terminate(),delete _[t]}function De(){throw new Error("Not implemented.")}function Re(t){if(typeof t!="object"||t===null)return t;var e=Array.isArray(t)?[]:{};for(var s in t)e[s]=Re(t[s]);return e}function de(t,e){return function(){t.apply(e,arguments)}}function x(t){return typeof t=="function"}return d&&(n.onmessage=function(t){var e=t.data;if(r.WORKER_ID===void 0&&e&&(r.WORKER_ID=e.workerId),typeof e.input=="string")n.postMessage({workerId:r.WORKER_ID,results:r.parse(e.input,e.config),finished:!0});else if(n.File&&e.input instanceof File||e.input instanceof Object){var s=r.parse(e.input,e.config);s&&n.postMessage({workerId:r.WORKER_ID,results:s,finished:!0})}}),(T.prototype=Object.create(b.prototype)).constructor=T,(N.prototype=Object.create(b.prototype)).constructor=N,(D.prototype=Object.create(D.prototype)).constructor=D,(z.prototype=Object.create(b.prototype)).constructor=z,r})})(Ve);const ze=p=>{const g=[],a=Ve.exports.parse(p,{skipEmptyLines:"greedy"}).data;a.shift();let n;for(let i=0;i<a.length;i++){const[d,,_,...y]=a[i];if(d)n={budgets:[],id:Ae(),name:d},g.push(n);else if(_&&n){const r=y.map($=>$.replace(/[^\d]/g,"")).map(Number).slice(0,12);n.budgets.push({id:Ae(),name:_.trim(),values:r})}}return g},ts=Z({__name:"GoogleAnnualBudgetScreen",props:{back:null},emits:["loaded"],setup(p,{emit:g}){const{setBudgetGroups:a}=Oe(),n=J(),i=J(),{t:d}=Ee(),_=async()=>{if(n.value&&i.value){const y=ze(await Le(n.value)),r=ze(await Le(i.value));a("expenses",y),a("income",r),g("loaded")}};return(y,r)=>(P(),oe(qe,{back:p.back,class:E(y.$style.screen),title:S(d)("import.start.google")},{default:me(()=>[H(Se,{class:E(y.$style.input),modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=$=>i.value=$),placeholder:S(d)("import.google.income"),accept:[".csv"]},null,8,["class","modelValue","placeholder","accept"]),H(Se,{class:E(y.$style.input),modelValue:n.value,"onUpdate:modelValue":r[1]||(r[1]=$=>n.value=$),placeholder:S(d)("import.google.expenses"),accept:[".csv"]},null,8,["class","modelValue","placeholder","accept"]),n.value&&i.value?(P(),oe(ue,{key:0,icon:"upload-cloud-2-line",text:S(d)("import.import"),onClick:_},null,8,["text"])):ke("",!0)]),_:1},8,["back","class","title"]))}}),ss="_3w",ns="_3x",rs={screen:ss,input:ns},is={$style:rs},os=ne(ts,[["__cssModules",is]]),as=Z({__name:"ImportButton",props:{class:null},setup(p){const g=p,a=Y(()=>g.class),n=Fe(),i=Fe(),d=J(),{t:_}=Ee(),y=()=>{var $,b;($=d.value)==null||$.close(),(b=i.value)==null||b.reset()},r=$=>{var b;n.value=$,(b=i.value)==null||b.next()};return($,b)=>(P(),oe($t,{class:E(S(a)),ref_key:"dialog",ref:d,color:"dimmed",icon:"upload-cloud-2-line",textual:"",onClose:y},{default:me(()=>[H(Lt,{ref_key:"steps",ref:i,onFinish:y},{default:me(({previous:T})=>[H(Be,{class:E($.$style.step)},{default:me(()=>[le("h1",{class:E($.$style.title)},Me(S(_)("import.start.title")),3),H(ue,{icon:"file-fill",text:S(_)("import.start.budgeter"),onClick:b[0]||(b[0]=N=>r(Xt))},null,8,["text"]),H(ue,{icon:"google-fill",text:S(_)("import.start.google"),onClick:b[1]||(b[1]=N=>r(os))},null,8,["text"])]),_:1},8,["class"]),H(Be,null,{default:me(()=>[S(n)?(P(),oe(st(S(n)),{key:0,back:T,onLoaded:y},null,40,["back"])):ke("",!0)]),_:2},1024)]),_:1},512)]),_:1},8,["class"]))}}),ls="_2l _2m",cs="_2n",us={step:ls,title:cs},ds={$style:us},hs=ne(as,[["__cssModules",ds]]),ps=Z({__name:"ThemeButton",props:{class:null},setup(p){const g=p,{state:a,setTheme:n}=rt(),i=nt();let d=!1;const _=Y(()=>a.appearance.theme==="light"?"sun-fill":"moon-fill"),y=Y(()=>g.class),r=it(),$=()=>{var z;const T=(z=r==null?void 0:r.vnode.el)==null?void 0:z.getBoundingClientRect(),N=T.left+T.width/2,D=T.top+T.height/2;return`${N}px ${D}px`},b=()=>{if(d)return;d=!0;const T=a.appearance.theme,N=T==="dark";n(N?"light":"dark");const D=$(),z=i.cloneNode(!0);z.classList.add(T),document.body[N?"prepend":"append"](z);const[we,_e]=N?[0,150]:[150,0],te=N?i:z;i.style.setProperty("--transitions","0"),z.style.setProperty("--transitions","0"),te.style.setProperty("clip-path",`circle(${we}% at ${D})`),te.style.setProperty("transition","all 0.75s ease-in-out"),te.addEventListener("transitionend",$e=>{$e.target===te&&(i.style.removeProperty("--transitions"),z.style.removeProperty("--transitions"),te.style.removeProperty("transition"),te.style.removeProperty("clip-path"),z.remove(),d=!1)}),requestAnimationFrame(()=>{te.style.setProperty("clip-path",`circle(${_e}% at ${D})`)})};return(T,N)=>(P(),oe(ue,{class:E([T.$style.themeButton,S(y)]),icon:S(_),textual:"",onClick:b},null,8,["class","icon"]))}}),fs="_2k",_s={themeButton:fs},ms={$style:_s},gs=ne(ps,[["__cssModules",ms]]),ys=Z({__name:"Frame",setup(p){const g=J(),a=at(),n=[{icon:"donut-chart",id:"dashboard",link:"/dashboard"},{icon:"hand-coin",id:"income",link:"/income"},{icon:"shopping-basket-2",id:"expenses",link:"/expenses"}];return(i,d)=>(P(),ce("div",{class:E(i.$style.frame)},[le("div",{ref_key:"menu",ref:g,class:E(i.$style.buttons)},[H(gs,{class:E(i.$style.btn)},null,8,["class"]),le("div",{class:E(i.$style.divider)},null,2),(P(),ce(Ue,null,ot(n,_=>H(Ke,{class:E(i.$style.btn),key:_.id,color:S(a).currentRoute.value.path.startsWith(_.link)?"primary":"dimmed",icon:_.icon,to:_.link},null,8,["class","color","icon","to"])),64)),H(hs,{class:E([i.$style.top,i.$style.btn])},null,8,["class"]),H(gt,{class:E(i.$style.btn)},null,8,["class"]),le("div",{class:E(i.$style.divider)},null,2),H(mt,{class:E(i.$style.btn)},null,8,["class"])],2),le("div",{ref:"panes",class:E(i.$style.panes)},[H(We)],2)],2))}}),vs="c j",ks="d k",bs="e f h l m",ws="g",Cs="i n",Es={frame:vs,panes:ks,buttons:bs,top:ws,divider:Cs},$s={$style:Es},Is=ne(ys,[["__cssModules",$s]]);export{Is as default};
