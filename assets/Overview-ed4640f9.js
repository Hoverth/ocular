import{d as P,j as a,o as r,c as y,n as l,_ as C,k as x,l as E,i as w,w as N,m as b,h as T,t as D,g as d,p as O,q,a as j,u as F,s as K,v as Q,f as t,x as I,y as V,z as f,A as R,B as G}from"./index-a6bb7ba6.js";import{A as H}from"./AsyncComponent-e2520933.js";import{t as z}from"./budgets-531db56b.js";import{C as J}from"./Currency-43832586.js";import{I as U}from"./Icon-1652105d.js";import{L as W}from"./Link-b976020d.js";import{u as X,i as Z,a as ee,b as se,_ as ae}from"./EChart.vue_vue_type_script_setup_true_lang-611d826d.js";import"./useThemeStyles-b4cdeaf6.js";import"./useResizeObserver-e297300b.js";const te=P({__name:"SummaryPanelChart",props:{class:{},color:{},values:{}},setup(i){const s=i;X([Z,ee,se]);const o=a(()=>s.class),n=a(()=>({animation:!1,xAxis:{type:"category",show:!1},yAxis:{type:"value",show:!1,min:Math.min(...s.values)},grid:{top:"5%",left:"5%",bottom:"5%",right:"5%"},series:[{data:s.values,type:"line",smooth:!0,showSymbol:!1,lineStyle:{width:5,cap:"round",color:s.color}}]}));return(c,m)=>(r(),y(ae,{class:l([c.$style.summaryPanelChart,o.value]),options:n.value},null,8,["class","options"]))}}),le="C_",oe={summaryPanelChart:le},ne={$style:oe},re=C(te,[["__cssModules",ne]]),ce=P({__name:"SummaryPanel",props:{class:{},title:{},subTitle:{},to:{},color:{},values:{}},setup(i){const s=i;x(e=>({"246684c0":h.value,cd8cef0c:v.value,"79a45c16":m.value}));const o=a(()=>s.class),n=E(.25),c=a(()=>Array.isArray(s.values)?s.values[s.values.length-1]:s.values),m=a(()=>`var(${s.color}-shadow)`),h=a(()=>`var(${s.color}-light)`),v=a(()=>`var(${s.color}-light-dimmed)`),A=a(()=>s.to?W:"div");return(e,_)=>(r(),w("div",{ref_key:"root",ref:n,style:q(e.$style.wrapper)},[(r(),y(O(A.value),{to:e.to,class:l([e.$style.summaryPanel,o.value])},{default:N(()=>[e.to?(r(),y(U,{key:0,class:l(e.$style.editIcon),icon:"pencil-fill"},null,8,["class"])):b("",!0),T("div",{class:l(e.$style.header)},[T("h2",{class:l(e.$style.head)},D(e.title),3),d(J,{class:l(e.$style.title),value:c.value},null,8,["class","value"]),e.subTitle?(r(),w("span",{key:0,class:l(e.$style.subTitle)},D(e.subTitle),3)):b("",!0)],2),Array.isArray(e.values)?(r(),y(re,{key:1,class:l(e.$style.chart),color:v.value,values:e.values},null,8,["class","color","values"])):b("",!0)]),_:1},8,["to","class"]))],4))}}),ue="t_",ie="u_",me="v_",ve="w_",de="x_",pe="y_",ye="z_",he="A_",_e={wrapper:ue,summaryPanel:ie,editIcon:me,header:ve,head:de,title:pe,subTitle:ye,chart:he},$e={$style:_e},g=C(ce,[["__cssModules",$e]]),fe=P({__name:"SummaryPanels",props:{class:{}},setup(i){const s=i,o=new Date().getFullYear(),{state:n}=j(),{t:c,n:m}=F(),h=K(0),v=Q(),A=a(()=>[s.class,v.summaryPanels,{[v.reduced]:n.activeYear!==o,[v.unAnimated]:h.value>=3}]),e=a(()=>z(n.income)),_=a(()=>z(n.expenses)),M=a(()=>I(e.value)),B=a(()=>I(_.value)),$=a(()=>V(M.value,B.value)),L=a(()=>f($.value)),S=a(()=>{const u=f(_.value),p=f(e.value);return p?u/p:0}),k=a(()=>{const u=new Date().getMonth()+1;return f(V(e.value.slice(u),_.value.slice(u)))}),Y=a(()=>{const u=$.value[$.value.length-1];return u?k.value/u:0});return(u,p)=>(r(),w("div",{class:l(A.value),onAnimationend:p[0]||(p[0]=De=>h.value++)},[d(g,{values:M.value,color:"--c-success",to:"/income",title:t(c)("dashboard.income")},null,8,["values","title"]),d(g,{"sub-title":t(m)(S.value,"percent"),to:"/expenses",values:B.value,color:"--c-warning",title:t(c)("dashboard.expenses")},null,8,["sub-title","values","title"]),d(g,{"sub-title":t(m)(L.value?1-S.value:0,"percent"),values:$.value,color:"--c-primary",title:t(c)("dashboard.endingBalance")},null,8,["sub-title","values","title"]),t(o)===t(n).activeYear?(r(),y(g,{key:0,"sub-title":t(m)(Y.value,"percent"),values:k.value,color:"--c-secondary",title:t(c)("dashboard.remainingBalance",{year:t(o)+1})},null,8,["sub-title","values","title"])):b("",!0)],34))}}),ge="K",be="L",we="M",Pe={summaryPanels:ge,reduced:be,unAnimated:we},Ce={$style:Pe},Ae=C(fe,[["__cssModules",Ce]]),Me=P({__name:"Overview",setup(i){const s=G();return(o,n)=>(r(),w("div",{class:l(o.$style.overview)},[d(Ae),d(H,{show:t(s)!=="mobile",class:l(o.$style.chart),import:()=>R(()=>import("./DistributionChart-69050b47.js"),["assets/DistributionChart-69050b47.js","assets/index-a6bb7ba6.js","assets/index-ed6bd6d0.css","assets/ChartPlaceholder-10ea4300.js","assets/Icon-1652105d.js","assets/Icon-c670f746.css","assets/ChartPlaceholder-fc4f2a88.css","assets/EChart.vue_vue_type_script_setup_true_lang-611d826d.js","assets/useResizeObserver-e297300b.js","assets/budgets-531db56b.js","assets/DistributionChart-2d45b9de.css"])},null,8,["show","class","import"])],2))}}),Be="f",Se="g",ke={overview:Be,chart:Se},Te={$style:ke},qe=C(Me,[["__cssModules",Te]]);export{qe as default};
