import{L as Ht}from"./Link.efd99be1.js";import{A as Yt}from"./AnimatedRouterView.a16df8bb.js";import{v as se,D as tt,t as At,E as Dt,d as ue,k as ce,c as Oe,n as M,a as I,I as Kt,o as Z,_ as ke,u as nt,g as rt,j as Mt,e as ye,b as ve,m as Ie,f as re,J as Xt,w as De,F as lt,K as Gt,y as Qt,p as Jt,L as Zt,M as en,x as st,l as He,N as mt,O as gt,C as yt,s as tn,r as Tt,P as nn,Q as rn,R as sn,h as on}from"./index.ad9ce5a2.js";import{B as Ce}from"./Button.e705d9f9.js";import{u as an}from"./useResizeObserver.dff2659f.js";import"./Icon.a235db5a.js";import"./useThemeStyles.224255c9.js";const ln=(t,e,n)=>{const r=document.createElement("a");r.style.display="none",document.body.appendChild(r);const s=new Blob([t],{type:n});r.href=URL.createObjectURL(s),r.download=e,r.click(),document.body.removeChild(r)},cn=({accept:t,multiple:e}={})=>{const n=document.createElement("input");return document.body.appendChild(n),n.type="file",n.style.display="none",t&&(n.accept=t),e&&(n.multiple=e),new Promise((r,s)=>{n.onchange=()=>{var c;const l=Array.from((c=n.files)!=null?c:[]);document.body.removeChild(n),l.length?r(e?l:l[0]):s()},n.click()})},un=t=>{const e=se([]),n=new MutationObserver(r=>{e.value=r});return tt(t,r=>{n.disconnect(),r&&n.observe(r,{subtree:!0,childList:!0})}),e},fn=t=>{const e=se(new DOMRect),n=un(t),r=an(t);return tt([n,r],()=>{const l=t.value;l&&(l.style.setProperty("position","fixed"),e.value=l.getBoundingClientRect(),l.style.removeProperty("position"))}),e},Bt=(t,e)=>{const n=r=>{t.value&&r.isTrusted&&!r.composedPath().includes(t.value)&&e(r)};At(()=>window.addEventListener("click",n)),Dt(()=>window.removeEventListener("click",n))},pn=ue({__name:"CloudButton",props:{class:null},setup(t){const e=t,n=ce(()=>e.class),{login:r,state:s}=Kt(),l=ce(()=>{switch(s.status){case"syncing":return"refresh-line";case"idle":return"cloud-off-line"}return"cloud-line"}),c=ce(()=>{switch(s.status){case"authenticated":return"success";case"loading":return"warning";case"idle":return"danger";case"syncing":return"primary"}return"danger"}),u=()=>{s.status==="idle"&&r()};return(a,d)=>(Z(),Oe(Ce,{class:M([a.$style.cloudButton,I(n)]),onClick:u,textual:"",color:I(c),icon:I(l)},null,8,["class","color","icon"]))}}),dn={},hn={$style:dn},vn=ke(pn,[["__cssModules",hn]]),mn=ue({__name:"ExportButton",props:{class:null},setup(t){const e=t,n=ce(()=>e.class),{serialize:r}=rt(),{t:s}=nt(),l=()=>{ln(r(),`${s("export.fileName")}.json`,"application/json")};return(c,u)=>(Z(),Oe(Ce,{class:M(I(n)),icon:"download-cloud-2-line",color:"dimmed",textual:"",onClick:l},null,8,["class"]))}}),gn=ue({__name:"Dialog",props:{open:{type:Boolean}},emits:["close"],setup(t,{emit:e}){const n=t,r=se(),s=se(),l=se(!1),c=Mt(),u=ce(()=>[c.dialog,{[c.open]:n.open}]);Bt(r,()=>l.value&&e("close"));const a=()=>{var d;n.open||(d=s.value)==null||d.close()};return tt(()=>n.open,d=>{var p;d?((p=s.value)==null||p.showModal(),requestAnimationFrame(()=>l.value=!0)):l.value=!1}),(d,p)=>(Z(),ye("dialog",{ref_key:"dialog",ref:s,class:M(I(u)),onTransitionend:a},[ve("div",{ref_key:"content",ref:r,class:M(d.$style.content)},[Ie(d.$slots,"default")],2)],34))}}),yn="_6p _6q _6r _6s _6u _6w _6y",bn="_6t _6v _6x _6z",_n="_70",wn={dialog:yn,open:bn,content:_n},kn={$style:wn},xn=ke(gn,[["__cssModules",kn]]),On=ue({__name:"DialogButton",props:{class:null,icon:null,text:null,color:null,textual:{type:Boolean},inline:{type:Boolean}},emits:["close"],setup(t,{expose:e,emit:n}){const r=t,s=se(!1),l=()=>{s.value=!1,n("close")};return e({close:()=>s.value=!1}),(c,u)=>(Z(),ye(lt,null,[re(Ce,Xt(r,{onClick:u[0]||(u[0]=a=>s.value=!0)}),null,16),re(xn,{open:s.value,onClose:l},{default:De(()=>[Ie(c.$slots,"default")]),_:3},8,["open"])],64))}}),Pt=Symbol("OnboardingStore"),En=ue({__name:"Step",props:{class:null},setup(t){const e=t,n=se(),r=fn(n),{register:s,unregister:l}=Gt(Pt);At(()=>s(r)),Dt(()=>l(r));const c=ce(()=>e.class);return(u,a)=>(Z(),ye("div",{ref_key:"root",ref:n,class:M([u.$style.step,I(c)])},[Ie(u.$slots,"default")],2))}}),$n="_46",Cn="_47",Rn={step:$n,shadow:Cn},Sn={$style:Rn},bt=ke(En,[["__cssModules",Sn]]),An=ue({__name:"Steps",props:{class:null},emits:["finish"],setup(t,{expose:e,emit:n}){const r=t;Jt(y=>({"3126ba48":I(a).width,"274e825e":I(a).height,b43a40aa:I(d)}));const s=se(),l=Qt([]),c=ce(()=>r.class),u=se(0),a=ce(()=>{var y,O;return(O=(y=l[u.value])==null?void 0:y.value)!=null?O:new DOMRect}),d=ce(()=>l.slice(0,u.value).reduce((y,O)=>y+O.value.width,0));Zt(Pt,{register:y=>l.push(y),unregister:y=>en(l,y)});const p=()=>u.value=0,x=()=>u.value=Math.max(0,u.value-1),R=()=>{u.value+1<l.length?u.value++:n("finish")};return e({reset:p,previous:x,next:R}),(y,O)=>(Z(),ye("div",{ref_key:"root",ref:s,class:M([y.$style.steps,I(c)])},[Ie(y.$slots,"default",{next:R,previous:x,reset:p})],2))}}),Dn="_48 _49",Mn={steps:Dn},Tn={$style:Mn},Bn=ke(An,[["__cssModules",Tn]]),Pn=ue({__name:"FilePicker",props:{modelValue:null,class:null,placeholder:null,accept:null},emits:["update:model-value"],setup(t,{emit:e}){const n=t,r=Mt(),s=ce(()=>[n.class,r.filePicker,{[r.empty]:!n.modelValue}]),l=()=>{var c;cn({accept:(c=n.accept)==null?void 0:c.join(","),multiple:!1}).then(u=>{e("update:model-value",u)})};return(c,u)=>{var a,d;return Z(),ye("button",{onClick:l,type:"button",class:M(I(s))},[ve("span",{class:M(c.$style.label)},st((d=(a=t.modelValue)==null?void 0:a.name)!=null?d:t.placeholder),3)],2)}}}),Ln="_71 _72 _74 _76 _77 _78",jn="_73",Fn="_75 _7a",In="_79",zn={filePicker:Ln,icon:jn,label:Fn,empty:In},Nn={$style:zn},ot=ke(Pn,[["__cssModules",Nn]]),qn=ue({__name:"Screen",props:{class:null,title:null,back:null},setup(t){const e=t,n=ce(()=>e.class);return(r,s)=>(Z(),ye("div",{class:M(r.$style.screen)},[t.title?(Z(),ye("h1",{key:0,class:M(r.$style.title)},[t.back?(Z(),Oe(Ce,{key:0,color:"dark",icon:"arrow-left-s-line",textual:"",onClick:t.back},null,8,["onClick"])):He("",!0),ve("span",null,st(t.title),1)],2)):He("",!0),ve("div",{class:M(I(n))},[Ie(r.$slots,"default")],2)],2))}}),Wn="_63",Un="_64",Vn={screen:Wn,title:Un},Hn={$style:Vn},Lt=ke(qn,[["__cssModules",Hn]]),Yn=ue({__name:"BudgetFileScreen",props:{back:null},emits:["loaded"],setup(t,{emit:e}){const{deserialize:n}=rt(),r=se(),{t:s}=nt(),l=async()=>{r.value&&(await n(r.value),e("loaded"))};return(c,u)=>(Z(),Oe(Lt,{back:t.back,class:M(c.$style.screen),title:I(s)("import.start.budgeter")},{default:De(()=>[re(ot,{modelValue:r.value,"onUpdate:modelValue":u[0]||(u[0]=a=>r.value=a),class:M(c.$style.input),placeholder:I(s)("import.budgeter.pickFile"),accept:[".json"]},null,8,["modelValue","class","placeholder","accept"]),r.value?(Z(),Oe(Ce,{key:0,icon:"upload-cloud-2-line",text:I(s)("import.import"),onClick:l},null,8,["text"])):He("",!0)]),_:1},8,["back","class","title"]))}}),Kn="_42",Xn="_43",Gn={screen:Kn,input:Xn},Qn={$style:Gn},Jn=ke(Yn,[["__cssModules",Qn]]);var Zn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jt={exports:{}};/* @license
Papa Parse
v5.3.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(n,r){t.exports=r()})(Zn,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s=!r.document&&!!r.postMessage,l=s&&/blob:/i.test((r.location||{}).protocol),c={},u=0,a={parse:function(o,i){var f=(i=i||{}).dynamicTyping||!1;if(k(f)&&(i.dynamicTypingFunction=f,f={}),i.dynamicTyping=f,i.transform=!!k(i.transform)&&i.transform,i.worker&&a.WORKERS_SUPPORTED){var h=function(){if(!a.WORKERS_SUPPORTED)return!1;var b=(K=r.URL||r.webkitURL||null,B=n.toString(),a.BLOB_URL||(a.BLOB_URL=K.createObjectURL(new Blob(["(",B,")();"],{type:"text/javascript"})))),$=new r.Worker(b),K,B;return $.onmessage=W,$.id=u++,c[$.id]=$}();return h.userStep=i.step,h.userChunk=i.chunk,h.userComplete=i.complete,h.userError=i.error,i.step=k(i.step),i.chunk=k(i.chunk),i.complete=k(i.complete),i.error=k(i.error),delete i.worker,void h.postMessage({input:o,config:i,workerId:h.id})}var v=null;return a.NODE_STREAM_INPUT,typeof o=="string"?v=i.download?new x(i):new y(i):o.readable===!0&&k(o.read)&&k(o.on)?v=new O(i):(r.File&&o instanceof File||o instanceof Object)&&(v=new R(i)),v.stream(o)},unparse:function(o,i){var f=!1,h=!0,v=",",b=`\r
`,$='"',K=$+$,B=!1,m=null,V=!1;(function(){if(typeof i=="object"){if(typeof i.delimiter!="string"||a.BAD_DELIMITERS.filter(function(g){return i.delimiter.indexOf(g)!==-1}).length||(v=i.delimiter),(typeof i.quotes=="boolean"||typeof i.quotes=="function"||Array.isArray(i.quotes))&&(f=i.quotes),typeof i.skipEmptyLines!="boolean"&&typeof i.skipEmptyLines!="string"||(B=i.skipEmptyLines),typeof i.newline=="string"&&(b=i.newline),typeof i.quoteChar=="string"&&($=i.quoteChar),typeof i.header=="boolean"&&(h=i.header),Array.isArray(i.columns)){if(i.columns.length===0)throw new Error("Option columns is empty");m=i.columns}i.escapeChar!==void 0&&(K=i.escapeChar+$),(typeof i.escapeFormulae=="boolean"||i.escapeFormulae instanceof RegExp)&&(V=i.escapeFormulae instanceof RegExp?i.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var w=new RegExp(A($),"g");if(typeof o=="string"&&(o=JSON.parse(o)),Array.isArray(o)){if(!o.length||Array.isArray(o[0]))return oe(null,o,B);if(typeof o[0]=="object")return oe(m||Object.keys(o[0]),o,B)}else if(typeof o=="object")return typeof o.data=="string"&&(o.data=JSON.parse(o.data)),Array.isArray(o.data)&&(o.fields||(o.fields=o.meta&&o.meta.fields||m),o.fields||(o.fields=Array.isArray(o.data[0])?o.fields:typeof o.data[0]=="object"?Object.keys(o.data[0]):[]),Array.isArray(o.data[0])||typeof o.data[0]=="object"||(o.data=[o.data])),oe(o.fields||[],o.data||[],B);throw new Error("Unable to serialize unrecognized input");function oe(g,N,X){var j="";typeof g=="string"&&(g=JSON.parse(g)),typeof N=="string"&&(N=JSON.parse(N));var G=Array.isArray(g)&&0<g.length,Q=!Array.isArray(N[0]);if(G&&h){for(var H=0;H<g.length;H++)0<H&&(j+=v),j+=ee(g[H],H);0<N.length&&(j+=b)}for(var _=0;_<N.length;_++){var F=G?g.length:N[_].length,q=!1,J=G?Object.keys(N[_]).length===0:N[_].length===0;if(X&&!G&&(q=X==="greedy"?N[_].join("").trim()==="":N[_].length===1&&N[_][0].length===0),X==="greedy"&&G){for(var C=[],L=0;L<F;L++){var Y=Q?g[L]:L;C.push(N[_][Y])}q=C.join("").trim()===""}if(!q){for(var E=0;E<F;E++){0<E&&!J&&(j+=v);var xe=G&&Q?g[E]:E;j+=ee(N[_][xe],E)}_<N.length-1&&(!X||0<F&&!J)&&(j+=b)}}return j}function ee(g,N){if(g==null)return"";if(g.constructor===Date)return JSON.stringify(g).slice(1,25);var X=!1;V&&typeof g=="string"&&V.test(g)&&(g="'"+g,X=!0);var j=g.toString().replace(w,K);return(X=X||f===!0||typeof f=="function"&&f(g,N)||Array.isArray(f)&&f[N]||function(G,Q){for(var H=0;H<Q.length;H++)if(-1<G.indexOf(Q[H]))return!0;return!1}(j,a.BAD_DELIMITERS)||-1<j.indexOf(v)||j.charAt(0)===" "||j.charAt(j.length-1)===" ")?$+j+$:j}}};if(a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\uFEFF",a.BAD_DELIMITERS=["\r",`
`,'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!s&&!!r.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=P,a.ParserHandle=S,a.NetworkStreamer=x,a.FileStreamer=R,a.StringStreamer=y,a.ReadableStreamStreamer=O,r.jQuery){var d=r.jQuery;d.fn.parse=function(o){var i=o.config||{},f=[];return this.each(function(b){if(!(d(this).prop("tagName").toUpperCase()==="INPUT"&&d(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var $=0;$<this.files.length;$++)f.push({file:this.files[$],inputElem:this,instanceConfig:d.extend({},i)})}),h(),this;function h(){if(f.length!==0){var b,$,K,B,m=f[0];if(k(o.before)){var V=o.before(m.file,m.inputElem);if(typeof V=="object"){if(V.action==="abort")return b="AbortError",$=m.file,K=m.inputElem,B=V.reason,void(k(o.error)&&o.error({name:b},$,K,B));if(V.action==="skip")return void v();typeof V.config=="object"&&(m.instanceConfig=d.extend(m.instanceConfig,V.config))}else if(V==="skip")return void v()}var w=m.instanceConfig.complete;m.instanceConfig.complete=function(oe){k(w)&&w(oe,m.file,m.inputElem),v()},a.parse(m.file,m.instanceConfig)}else k(o.complete)&&o.complete()}function v(){f.splice(0,1),h()}}}function p(o){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(i){var f=z(i);f.chunkSize=parseInt(f.chunkSize),i.step||i.chunk||(f.chunkSize=null),this._handle=new S(f),(this._handle.streamer=this)._config=f}.call(this,o),this.parseChunk=function(i,f){if(this.isFirstChunk&&k(this._config.beforeFirstChunk)){var h=this._config.beforeFirstChunk(i);h!==void 0&&(i=h)}this.isFirstChunk=!1,this._halted=!1;var v=this._partialLine+i;this._partialLine="";var b=this._handle.parse(v,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var $=b.meta.cursor;this._finished||(this._partialLine=v.substring($-this._baseIndex),this._baseIndex=$),b&&b.data&&(this._rowCount+=b.data.length);var K=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(l)r.postMessage({results:b,workerId:a.WORKER_ID,finished:K});else if(k(this._config.chunk)&&!f){if(this._config.chunk(b,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);b=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(b.data),this._completeResults.errors=this._completeResults.errors.concat(b.errors),this._completeResults.meta=b.meta),this._completed||!K||!k(this._config.complete)||b&&b.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),K||b&&b.meta.paused||this._nextChunk(),b}this._halted=!0},this._sendError=function(i){k(this._config.error)?this._config.error(i):l&&this._config.error&&r.postMessage({workerId:a.WORKER_ID,error:i,finished:!1})}}function x(o){var i;(o=o||{}).chunkSize||(o.chunkSize=a.RemoteChunkSize),p.call(this,o),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(f){this._input=f,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(i=new XMLHttpRequest,this._config.withCredentials&&(i.withCredentials=this._config.withCredentials),s||(i.onload=T(this._chunkLoaded,this),i.onerror=T(this._chunkError,this)),i.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var f=this._config.downloadRequestHeaders;for(var h in f)i.setRequestHeader(h,f[h])}if(this._config.chunkSize){var v=this._start+this._config.chunkSize-1;i.setRequestHeader("Range","bytes="+this._start+"-"+v)}try{i.send(this._config.downloadRequestBody)}catch(b){this._chunkError(b.message)}s&&i.status===0&&this._chunkError()}},this._chunkLoaded=function(){i.readyState===4&&(i.status<200||400<=i.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:i.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(f){var h=f.getResponseHeader("Content-Range");return h===null?-1:parseInt(h.substring(h.lastIndexOf("/")+1))}(i),this.parseChunk(i.responseText)))},this._chunkError=function(f){var h=i.statusText||f;this._sendError(new Error(h))}}function R(o){var i,f;(o=o||{}).chunkSize||(o.chunkSize=a.LocalChunkSize),p.call(this,o);var h=typeof FileReader<"u";this.stream=function(v){this._input=v,f=v.slice||v.webkitSlice||v.mozSlice,h?((i=new FileReader).onload=T(this._chunkLoaded,this),i.onerror=T(this._chunkError,this)):i=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var v=this._input;if(this._config.chunkSize){var b=Math.min(this._start+this._config.chunkSize,this._input.size);v=f.call(v,this._start,b)}var $=i.readAsText(v,this._config.encoding);h||this._chunkLoaded({target:{result:$}})},this._chunkLoaded=function(v){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(v.target.result)},this._chunkError=function(){this._sendError(i.error)}}function y(o){var i;p.call(this,o=o||{}),this.stream=function(f){return i=f,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var f,h=this._config.chunkSize;return h?(f=i.substring(0,h),i=i.substring(h)):(f=i,i=""),this._finished=!i,this.parseChunk(f)}}}function O(o){p.call(this,o=o||{});var i=[],f=!0,h=!1;this.pause=function(){p.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){p.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(v){this._input=v,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){h&&i.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),i.length?this.parseChunk(i.shift()):f=!0},this._streamData=T(function(v){try{i.push(typeof v=="string"?v:v.toString(this._config.encoding)),f&&(f=!1,this._checkIsFinished(),this.parseChunk(i.shift()))}catch(b){this._streamError(b)}},this),this._streamError=T(function(v){this._streamCleanUp(),this._sendError(v)},this),this._streamEnd=T(function(){this._streamCleanUp(),h=!0,this._streamData("")},this),this._streamCleanUp=T(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function S(o){var i,f,h,v=Math.pow(2,53),b=-v,$=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,K=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,B=this,m=0,V=0,w=!1,oe=!1,ee=[],g={data:[],errors:[],meta:{}};if(k(o.step)){var N=o.step;o.step=function(_){if(g=_,G())j();else{if(j(),g.data.length===0)return;m+=_.data.length,o.preview&&m>o.preview?f.abort():(g.data=g.data[0],N(g,B))}}}function X(_){return o.skipEmptyLines==="greedy"?_.join("").trim()==="":_.length===1&&_[0].length===0}function j(){return g&&h&&(H("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),h=!1),o.skipEmptyLines&&(g.data=g.data.filter(function(_){return!X(_)})),G()&&function(){if(!g)return;function _(q,J){k(o.transformHeader)&&(q=o.transformHeader(q,J)),ee.push(q)}if(Array.isArray(g.data[0])){for(var F=0;G()&&F<g.data.length;F++)g.data[F].forEach(_);g.data.splice(0,1)}else g.data.forEach(_)}(),function(){if(!g||!o.header&&!o.dynamicTyping&&!o.transform)return g;function _(q,J){var C,L=o.header?{}:[];for(C=0;C<q.length;C++){var Y=C,E=q[C];o.header&&(Y=C>=ee.length?"__parsed_extra":ee[C]),o.transform&&(E=o.transform(E,Y)),E=Q(Y,E),Y==="__parsed_extra"?(L[Y]=L[Y]||[],L[Y].push(E)):L[Y]=E}return o.header&&(C>ee.length?H("FieldMismatch","TooManyFields","Too many fields: expected "+ee.length+" fields but parsed "+C,V+J):C<ee.length&&H("FieldMismatch","TooFewFields","Too few fields: expected "+ee.length+" fields but parsed "+C,V+J)),L}var F=1;return!g.data.length||Array.isArray(g.data[0])?(g.data=g.data.map(_),F=g.data.length):g.data=_(g.data,0),o.header&&g.meta&&(g.meta.fields=ee),V+=F,g}()}function G(){return o.header&&ee.length===0}function Q(_,F){return q=_,o.dynamicTypingFunction&&o.dynamicTyping[q]===void 0&&(o.dynamicTyping[q]=o.dynamicTypingFunction(q)),(o.dynamicTyping[q]||o.dynamicTyping)===!0?F==="true"||F==="TRUE"||F!=="false"&&F!=="FALSE"&&(function(J){if($.test(J)){var C=parseFloat(J);if(b<C&&C<v)return!0}return!1}(F)?parseFloat(F):K.test(F)?new Date(F):F===""?null:F):F;var q}function H(_,F,q,J){var C={type:_,code:F,message:q};J!==void 0&&(C.row=J),g.errors.push(C)}this.parse=function(_,F,q){var J=o.quoteChar||'"';if(o.newline||(o.newline=function(Y,E){Y=Y.substring(0,1048576);var xe=new RegExp(A(E)+"([^]*?)"+A(E),"gm"),he=(Y=Y.replace(xe,"")).split("\r"),fe=Y.split(`
`),ie=1<fe.length&&fe[0].length<he[0].length;if(he.length===1||ie)return`
`;for(var ae=0,le=0;le<he.length;le++)he[le][0]===`
`&&ae++;return ae>=he.length/2?`\r
`:"\r"}(_,J)),h=!1,o.delimiter)k(o.delimiter)&&(o.delimiter=o.delimiter(_),g.meta.delimiter=o.delimiter);else{var C=function(Y,E,xe,he,fe){var ie,ae,le,te;fe=fe||[",","	","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var me=0;me<fe.length;me++){var ne=fe[me],Se=0,ge=0,ze=0;le=void 0;for(var Ne=new P({comments:he,delimiter:ne,newline:E,preview:10}).parse(Y),Qe=0;Qe<Ne.data.length;Qe++)if(xe&&X(Ne.data[Qe]))ze++;else{var qe=Ne.data[Qe].length;ge+=qe,le!==void 0?0<qe&&(Se+=Math.abs(qe-le),le=qe):le=qe}0<Ne.data.length&&(ge/=Ne.data.length-ze),(ae===void 0||Se<=ae)&&(te===void 0||te<ge)&&1.99<ge&&(ae=Se,ie=ne,te=ge)}return{successful:!!(o.delimiter=ie),bestDelimiter:ie}}(_,o.newline,o.skipEmptyLines,o.comments,o.delimitersToGuess);C.successful?o.delimiter=C.bestDelimiter:(h=!0,o.delimiter=a.DefaultDelimiter),g.meta.delimiter=o.delimiter}var L=z(o);return o.preview&&o.header&&L.preview++,i=_,f=new P(L),g=f.parse(i,F,q),j(),w?{meta:{paused:!0}}:g||{meta:{paused:!1}}},this.paused=function(){return w},this.pause=function(){w=!0,f.abort(),i=k(o.chunk)?"":i.substring(f.getCharIndex())},this.resume=function(){B.streamer._halted?(w=!1,B.streamer.parseChunk(i,!0)):setTimeout(B.resume,3)},this.aborted=function(){return oe},this.abort=function(){oe=!0,f.abort(),g.meta.aborted=!0,k(o.complete)&&o.complete(g),i=""}}function A(o){return o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function P(o){var i,f=(o=o||{}).delimiter,h=o.newline,v=o.comments,b=o.step,$=o.preview,K=o.fastMode,B=i=o.quoteChar===void 0||o.quoteChar===null?'"':o.quoteChar;if(o.escapeChar!==void 0&&(B=o.escapeChar),(typeof f!="string"||-1<a.BAD_DELIMITERS.indexOf(f))&&(f=","),v===f)throw new Error("Comment character same as delimiter");v===!0?v="#":(typeof v!="string"||-1<a.BAD_DELIMITERS.indexOf(v))&&(v=!1),h!==`
`&&h!=="\r"&&h!==`\r
`&&(h=`
`);var m=0,V=!1;this.parse=function(w,oe,ee){if(typeof w!="string")throw new Error("Input must be a string");var g=w.length,N=f.length,X=h.length,j=v.length,G=k(b),Q=[],H=[],_=[],F=m=0;if(!w)return te();if(K||K!==!1&&w.indexOf(i)===-1){for(var q=w.split(h),J=0;J<q.length;J++){if(_=q[J],m+=_.length,J!==q.length-1)m+=h.length;else if(ee)return te();if(!v||_.substring(0,j)!==v){if(G){if(Q=[],fe(_.split(f)),me(),V)return te()}else fe(_.split(f));if($&&$<=J)return Q=Q.slice(0,$),te(!0)}}return te()}for(var C=w.indexOf(f,m),L=w.indexOf(h,m),Y=new RegExp(A(B)+A(i),"g"),E=w.indexOf(i,m);;)if(w[m]!==i)if(v&&_.length===0&&w.substring(m,m+j)===v){if(L===-1)return te();m=L+X,L=w.indexOf(h,m),C=w.indexOf(f,m)}else if(C!==-1&&(C<L||L===-1))_.push(w.substring(m,C)),m=C+N,C=w.indexOf(f,m);else{if(L===-1)break;if(_.push(w.substring(m,L)),le(L+X),G&&(me(),V))return te();if($&&Q.length>=$)return te(!0)}else for(E=m,m++;;){if((E=w.indexOf(i,E+1))===-1)return ee||H.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Q.length,index:m}),ae();if(E===g-1)return ae(w.substring(m,E).replace(Y,i));if(i!==B||w[E+1]!==B){if(i===B||E===0||w[E-1]!==B){C!==-1&&C<E+1&&(C=w.indexOf(f,E+1)),L!==-1&&L<E+1&&(L=w.indexOf(h,E+1));var xe=ie(L===-1?C:Math.min(C,L));if(w.substr(E+1+xe,N)===f){_.push(w.substring(m,E).replace(Y,i)),w[m=E+1+xe+N]!==i&&(E=w.indexOf(i,m)),C=w.indexOf(f,m),L=w.indexOf(h,m);break}var he=ie(L);if(w.substring(E+1+he,E+1+he+X)===h){if(_.push(w.substring(m,E).replace(Y,i)),le(E+1+he+X),C=w.indexOf(f,m),E=w.indexOf(i,m),G&&(me(),V))return te();if($&&Q.length>=$)return te(!0);break}H.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Q.length,index:m}),E++}}else E++}return ae();function fe(ne){Q.push(ne),F=m}function ie(ne){var Se=0;if(ne!==-1){var ge=w.substring(E+1,ne);ge&&ge.trim()===""&&(Se=ge.length)}return Se}function ae(ne){return ee||(ne===void 0&&(ne=w.substring(m)),_.push(ne),m=g,fe(_),G&&me()),te()}function le(ne){m=ne,fe(_),_=[],L=w.indexOf(h,m)}function te(ne){return{data:Q,errors:H,meta:{delimiter:f,linebreak:h,aborted:V,truncated:!!ne,cursor:F+(oe||0)}}}function me(){b(te()),Q=[],H=[]}},this.abort=function(){V=!0},this.getCharIndex=function(){return m}}function W(o){var i=o.data,f=c[i.workerId],h=!1;if(i.error)f.userError(i.error,i.file);else if(i.results&&i.results.data){var v={abort:function(){h=!0,U(i.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:D,resume:D};if(k(f.userStep)){for(var b=0;b<i.results.data.length&&(f.userStep({data:i.results.data[b],errors:i.results.errors,meta:i.results.meta},v),!h);b++);delete i.results}else k(f.userChunk)&&(f.userChunk(i.results,v,i.file),delete i.results)}i.finished&&!h&&U(i.workerId,i.results)}function U(o,i){var f=c[o];k(f.userComplete)&&f.userComplete(i),f.terminate(),delete c[o]}function D(){throw new Error("Not implemented.")}function z(o){if(typeof o!="object"||o===null)return o;var i=Array.isArray(o)?[]:{};for(var f in o)i[f]=z(o[f]);return i}function T(o,i){return function(){o.apply(i,arguments)}}function k(o){return typeof o=="function"}return l&&(r.onmessage=function(o){var i=o.data;if(a.WORKER_ID===void 0&&i&&(a.WORKER_ID=i.workerId),typeof i.input=="string")r.postMessage({workerId:a.WORKER_ID,results:a.parse(i.input,i.config),finished:!0});else if(r.File&&i.input instanceof File||i.input instanceof Object){var f=a.parse(i.input,i.config);f&&r.postMessage({workerId:a.WORKER_ID,results:f,finished:!0})}}),(x.prototype=Object.create(p.prototype)).constructor=x,(R.prototype=Object.create(p.prototype)).constructor=R,(y.prototype=Object.create(y.prototype)).constructor=y,(O.prototype=Object.create(p.prototype)).constructor=O,a})})(jt);const _t=t=>{const e=[],n=jt.exports.parse(t,{skipEmptyLines:"greedy"}).data;n.shift();let r;for(let s=0;s<n.length;s++){const[l,,c,...u]=n[s];if(l)r={budgets:[],id:mt(),name:l},e.push(r);else if(c&&r){const a=u.map(d=>d.replace(/[^\d]/g,"")).map(Number).slice(0,12);r.budgets.push({id:mt(),name:c.trim(),values:a})}}return e},er=ue({__name:"GoogleAnnualBudgetScreen",props:{back:null},emits:["loaded"],setup(t,{emit:e}){const{setBudgetGroups:n}=rt(),r=se(),s=se(),{t:l}=nt(),c=async()=>{if(r.value&&s.value){const u=_t(await gt(r.value)),a=_t(await gt(s.value));n("expenses",u),n("income",a),e("loaded")}};return(u,a)=>(Z(),Oe(Lt,{back:t.back,class:M(u.$style.screen),title:I(l)("import.start.google")},{default:De(()=>[re(ot,{class:M(u.$style.input),modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=d=>s.value=d),placeholder:I(l)("import.google.income"),accept:[".csv"]},null,8,["class","modelValue","placeholder","accept"]),re(ot,{class:M(u.$style.input),modelValue:r.value,"onUpdate:modelValue":a[1]||(a[1]=d=>r.value=d),placeholder:I(l)("import.google.expenses"),accept:[".csv"]},null,8,["class","modelValue","placeholder","accept"]),r.value&&s.value?(Z(),Oe(Ce,{key:0,icon:"upload-cloud-2-line",text:I(l)("import.import"),onClick:c},null,8,["text"])):He("",!0)]),_:1},8,["back","class","title"]))}}),tr="_44",nr="_45",rr={screen:tr,input:nr},sr={$style:rr},ir=ke(er,[["__cssModules",sr]]),or=ue({__name:"ImportButton",props:{class:null},setup(t){const e=t,n=ce(()=>e.class),r=yt(),s=yt(),l=se(),{t:c}=nt(),u=()=>{var d,p;(d=l.value)==null||d.close(),(p=s.value)==null||p.reset()},a=d=>{var p;r.value=d,(p=s.value)==null||p.next()};return(d,p)=>(Z(),Oe(On,{class:M(I(n)),ref_key:"dialog",ref:l,color:"dimmed",icon:"upload-cloud-2-line",textual:"",onClose:u},{default:De(()=>[re(Bn,{ref_key:"steps",ref:s,onFinish:u},{default:De(({previous:x})=>[re(bt,{class:M(d.$style.step)},{default:De(()=>[ve("h1",{class:M(d.$style.title)},st(I(c)("import.start.title")),3),re(Ce,{icon:"file-fill",text:I(c)("import.start.budgeter"),onClick:p[0]||(p[0]=R=>a(Jn))},null,8,["text"]),re(Ce,{icon:"google-fill",text:I(c)("import.start.google"),onClick:p[1]||(p[1]=R=>a(ir))},null,8,["text"])]),_:1},8,["class"]),re(bt,null,{default:De(()=>[I(r)?(Z(),Oe(tn(I(r)),{key:0,back:x,onLoaded:u},null,40,["back"])):He("",!0)]),_:2},1024)]),_:1},512)]),_:1},8,["class"]))}}),ar="_2z _30",lr="_31",cr={step:ar,title:lr},ur={$style:cr},fr=ke(or,[["__cssModules",ur]]);var pe="top",_e="bottom",we="right",de="left",ct="auto",Xe=[pe,_e,we,de],Be="start",Ye="end",pr="clippingParents",Ft="viewport",We="popper",dr="reference",wt=Xe.reduce(function(t,e){return t.concat([e+"-"+Be,e+"-"+Ye])},[]),It=[].concat(Xe,[ct]).reduce(function(t,e){return t.concat([e,e+"-"+Be,e+"-"+Ye])},[]),hr="beforeRead",vr="read",mr="afterRead",gr="beforeMain",yr="main",br="afterMain",_r="beforeWrite",wr="write",kr="afterWrite",xr=[hr,vr,mr,gr,yr,br,_r,wr,kr];function Re(t){return t?(t.nodeName||"").toLowerCase():null}function Ee(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Pe(t){var e=Ee(t).Element;return t instanceof e||t instanceof Element}function be(t){var e=Ee(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function ut(t){if(typeof ShadowRoot>"u")return!1;var e=Ee(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Or(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},s=e.attributes[n]||{},l=e.elements[n];!be(l)||!Re(l)||(Object.assign(l.style,r),Object.keys(s).forEach(function(c){var u=s[c];u===!1?l.removeAttribute(c):l.setAttribute(c,u===!0?"":u)}))})}function Er(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],l=e.attributes[r]||{},c=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),u=c.reduce(function(a,d){return a[d]="",a},{});!be(s)||!Re(s)||(Object.assign(s.style,u),Object.keys(l).forEach(function(a){s.removeAttribute(a)}))})}}const $r={name:"applyStyles",enabled:!0,phase:"write",fn:Or,effect:Er,requires:["computeStyles"]};function $e(t){return t.split("-")[0]}var Te=Math.max,et=Math.min,Le=Math.round;function je(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),r=1,s=1;if(be(t)&&e){var l=t.offsetHeight,c=t.offsetWidth;c>0&&(r=Le(n.width)/c||1),l>0&&(s=Le(n.height)/l||1)}return{width:n.width/r,height:n.height/s,top:n.top/s,right:n.right/r,bottom:n.bottom/s,left:n.left/r,x:n.left/r,y:n.top/s}}function ft(t){var e=je(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function zt(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&ut(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ae(t){return Ee(t).getComputedStyle(t)}function Cr(t){return["table","td","th"].indexOf(Re(t))>=0}function Me(t){return((Pe(t)?t.ownerDocument:t.document)||window.document).documentElement}function it(t){return Re(t)==="html"?t:t.assignedSlot||t.parentNode||(ut(t)?t.host:null)||Me(t)}function kt(t){return!be(t)||Ae(t).position==="fixed"?null:t.offsetParent}function Rr(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&be(t)){var r=Ae(t);if(r.position==="fixed")return null}var s=it(t);for(ut(s)&&(s=s.host);be(s)&&["html","body"].indexOf(Re(s))<0;){var l=Ae(s);if(l.transform!=="none"||l.perspective!=="none"||l.contain==="paint"||["transform","perspective"].indexOf(l.willChange)!==-1||e&&l.willChange==="filter"||e&&l.filter&&l.filter!=="none")return s;s=s.parentNode}return null}function Ge(t){for(var e=Ee(t),n=kt(t);n&&Cr(n)&&Ae(n).position==="static";)n=kt(n);return n&&(Re(n)==="html"||Re(n)==="body"&&Ae(n).position==="static")?e:n||Rr(t)||e}function pt(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ue(t,e,n){return Te(t,et(e,n))}function Sr(t,e,n){var r=Ue(t,e,n);return r>n?n:r}function Nt(){return{top:0,right:0,bottom:0,left:0}}function qt(t){return Object.assign({},Nt(),t)}function Wt(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var Ar=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,qt(typeof e!="number"?e:Wt(e,Xe))};function Dr(t){var e,n=t.state,r=t.name,s=t.options,l=n.elements.arrow,c=n.modifiersData.popperOffsets,u=$e(n.placement),a=pt(u),d=[de,we].indexOf(u)>=0,p=d?"height":"width";if(!(!l||!c)){var x=Ar(s.padding,n),R=ft(l),y=a==="y"?pe:de,O=a==="y"?_e:we,S=n.rects.reference[p]+n.rects.reference[a]-c[a]-n.rects.popper[p],A=c[a]-n.rects.reference[a],P=Ge(l),W=P?a==="y"?P.clientHeight||0:P.clientWidth||0:0,U=S/2-A/2,D=x[y],z=W-R[p]-x[O],T=W/2-R[p]/2+U,k=Ue(D,T,z),o=a;n.modifiersData[r]=(e={},e[o]=k,e.centerOffset=k-T,e)}}function Mr(t){var e=t.state,n=t.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||!zt(e.elements.popper,s)||(e.elements.arrow=s))}const Tr={name:"arrow",enabled:!0,phase:"main",fn:Dr,effect:Mr,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Fe(t){return t.split("-")[1]}var Br={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Pr(t){var e=t.x,n=t.y,r=window,s=r.devicePixelRatio||1;return{x:Le(e*s)/s||0,y:Le(n*s)/s||0}}function xt(t){var e,n=t.popper,r=t.popperRect,s=t.placement,l=t.variation,c=t.offsets,u=t.position,a=t.gpuAcceleration,d=t.adaptive,p=t.roundOffsets,x=t.isFixed,R=c.x,y=R===void 0?0:R,O=c.y,S=O===void 0?0:O,A=typeof p=="function"?p({x:y,y:S}):{x:y,y:S};y=A.x,S=A.y;var P=c.hasOwnProperty("x"),W=c.hasOwnProperty("y"),U=de,D=pe,z=window;if(d){var T=Ge(n),k="clientHeight",o="clientWidth";if(T===Ee(n)&&(T=Me(n),Ae(T).position!=="static"&&u==="absolute"&&(k="scrollHeight",o="scrollWidth")),T=T,s===pe||(s===de||s===we)&&l===Ye){D=_e;var i=x&&T===z&&z.visualViewport?z.visualViewport.height:T[k];S-=i-r.height,S*=a?1:-1}if(s===de||(s===pe||s===_e)&&l===Ye){U=we;var f=x&&T===z&&z.visualViewport?z.visualViewport.width:T[o];y-=f-r.width,y*=a?1:-1}}var h=Object.assign({position:u},d&&Br),v=p===!0?Pr({x:y,y:S}):{x:y,y:S};if(y=v.x,S=v.y,a){var b;return Object.assign({},h,(b={},b[D]=W?"0":"",b[U]=P?"0":"",b.transform=(z.devicePixelRatio||1)<=1?"translate("+y+"px, "+S+"px)":"translate3d("+y+"px, "+S+"px, 0)",b))}return Object.assign({},h,(e={},e[D]=W?S+"px":"",e[U]=P?y+"px":"",e.transform="",e))}function Lr(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,l=n.adaptive,c=l===void 0?!0:l,u=n.roundOffsets,a=u===void 0?!0:u,d={placement:$e(e.placement),variation:Fe(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,xt(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:c,roundOffsets:a})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,xt(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const jr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Lr,data:{}};var Je={passive:!0};function Fr(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,l=s===void 0?!0:s,c=r.resize,u=c===void 0?!0:c,a=Ee(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return l&&d.forEach(function(p){p.addEventListener("scroll",n.update,Je)}),u&&a.addEventListener("resize",n.update,Je),function(){l&&d.forEach(function(p){p.removeEventListener("scroll",n.update,Je)}),u&&a.removeEventListener("resize",n.update,Je)}}const Ir={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Fr,data:{}};var zr={left:"right",right:"left",bottom:"top",top:"bottom"};function Ze(t){return t.replace(/left|right|bottom|top/g,function(e){return zr[e]})}var Nr={start:"end",end:"start"};function Ot(t){return t.replace(/start|end/g,function(e){return Nr[e]})}function dt(t){var e=Ee(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function ht(t){return je(Me(t)).left+dt(t).scrollLeft}function qr(t){var e=Ee(t),n=Me(t),r=e.visualViewport,s=n.clientWidth,l=n.clientHeight,c=0,u=0;return r&&(s=r.width,l=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(c=r.offsetLeft,u=r.offsetTop)),{width:s,height:l,x:c+ht(t),y:u}}function Wr(t){var e,n=Me(t),r=dt(t),s=(e=t.ownerDocument)==null?void 0:e.body,l=Te(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),c=Te(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),u=-r.scrollLeft+ht(t),a=-r.scrollTop;return Ae(s||n).direction==="rtl"&&(u+=Te(n.clientWidth,s?s.clientWidth:0)-l),{width:l,height:c,x:u,y:a}}function vt(t){var e=Ae(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function Ut(t){return["html","body","#document"].indexOf(Re(t))>=0?t.ownerDocument.body:be(t)&&vt(t)?t:Ut(it(t))}function Ve(t,e){var n;e===void 0&&(e=[]);var r=Ut(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),l=Ee(r),c=s?[l].concat(l.visualViewport||[],vt(r)?r:[]):r,u=e.concat(c);return s?u:u.concat(Ve(it(c)))}function at(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Ur(t){var e=je(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function Et(t,e){return e===Ft?at(qr(t)):Pe(e)?Ur(e):at(Wr(Me(t)))}function Vr(t){var e=Ve(it(t)),n=["absolute","fixed"].indexOf(Ae(t).position)>=0,r=n&&be(t)?Ge(t):t;return Pe(r)?e.filter(function(s){return Pe(s)&&zt(s,r)&&Re(s)!=="body"}):[]}function Hr(t,e,n){var r=e==="clippingParents"?Vr(t):[].concat(e),s=[].concat(r,[n]),l=s[0],c=s.reduce(function(u,a){var d=Et(t,a);return u.top=Te(d.top,u.top),u.right=et(d.right,u.right),u.bottom=et(d.bottom,u.bottom),u.left=Te(d.left,u.left),u},Et(t,l));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function Vt(t){var e=t.reference,n=t.element,r=t.placement,s=r?$e(r):null,l=r?Fe(r):null,c=e.x+e.width/2-n.width/2,u=e.y+e.height/2-n.height/2,a;switch(s){case pe:a={x:c,y:e.y-n.height};break;case _e:a={x:c,y:e.y+e.height};break;case we:a={x:e.x+e.width,y:u};break;case de:a={x:e.x-n.width,y:u};break;default:a={x:e.x,y:e.y}}var d=s?pt(s):null;if(d!=null){var p=d==="y"?"height":"width";switch(l){case Be:a[d]=a[d]-(e[p]/2-n[p]/2);break;case Ye:a[d]=a[d]+(e[p]/2-n[p]/2);break}}return a}function Ke(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,l=n.boundary,c=l===void 0?pr:l,u=n.rootBoundary,a=u===void 0?Ft:u,d=n.elementContext,p=d===void 0?We:d,x=n.altBoundary,R=x===void 0?!1:x,y=n.padding,O=y===void 0?0:y,S=qt(typeof O!="number"?O:Wt(O,Xe)),A=p===We?dr:We,P=t.rects.popper,W=t.elements[R?A:p],U=Hr(Pe(W)?W:W.contextElement||Me(t.elements.popper),c,a),D=je(t.elements.reference),z=Vt({reference:D,element:P,strategy:"absolute",placement:s}),T=at(Object.assign({},P,z)),k=p===We?T:D,o={top:U.top-k.top+S.top,bottom:k.bottom-U.bottom+S.bottom,left:U.left-k.left+S.left,right:k.right-U.right+S.right},i=t.modifiersData.offset;if(p===We&&i){var f=i[s];Object.keys(o).forEach(function(h){var v=[we,_e].indexOf(h)>=0?1:-1,b=[pe,_e].indexOf(h)>=0?"y":"x";o[h]+=f[b]*v})}return o}function Yr(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,l=n.rootBoundary,c=n.padding,u=n.flipVariations,a=n.allowedAutoPlacements,d=a===void 0?It:a,p=Fe(r),x=p?u?wt:wt.filter(function(O){return Fe(O)===p}):Xe,R=x.filter(function(O){return d.indexOf(O)>=0});R.length===0&&(R=x);var y=R.reduce(function(O,S){return O[S]=Ke(t,{placement:S,boundary:s,rootBoundary:l,padding:c})[$e(S)],O},{});return Object.keys(y).sort(function(O,S){return y[O]-y[S]})}function Kr(t){if($e(t)===ct)return[];var e=Ze(t);return[Ot(t),e,Ot(e)]}function Xr(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,l=s===void 0?!0:s,c=n.altAxis,u=c===void 0?!0:c,a=n.fallbackPlacements,d=n.padding,p=n.boundary,x=n.rootBoundary,R=n.altBoundary,y=n.flipVariations,O=y===void 0?!0:y,S=n.allowedAutoPlacements,A=e.options.placement,P=$e(A),W=P===A,U=a||(W||!O?[Ze(A)]:Kr(A)),D=[A].concat(U).reduce(function(X,j){return X.concat($e(j)===ct?Yr(e,{placement:j,boundary:p,rootBoundary:x,padding:d,flipVariations:O,allowedAutoPlacements:S}):j)},[]),z=e.rects.reference,T=e.rects.popper,k=new Map,o=!0,i=D[0],f=0;f<D.length;f++){var h=D[f],v=$e(h),b=Fe(h)===Be,$=[pe,_e].indexOf(v)>=0,K=$?"width":"height",B=Ke(e,{placement:h,boundary:p,rootBoundary:x,altBoundary:R,padding:d}),m=$?b?we:de:b?_e:pe;z[K]>T[K]&&(m=Ze(m));var V=Ze(m),w=[];if(l&&w.push(B[v]<=0),u&&w.push(B[m]<=0,B[V]<=0),w.every(function(X){return X})){i=h,o=!1;break}k.set(h,w)}if(o)for(var oe=O?3:1,ee=function(j){var G=D.find(function(Q){var H=k.get(Q);if(H)return H.slice(0,j).every(function(_){return _})});if(G)return i=G,"break"},g=oe;g>0;g--){var N=ee(g);if(N==="break")break}e.placement!==i&&(e.modifiersData[r]._skip=!0,e.placement=i,e.reset=!0)}}const Gr={name:"flip",enabled:!0,phase:"main",fn:Xr,requiresIfExists:["offset"],data:{_skip:!1}};function $t(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Ct(t){return[pe,we,_e,de].some(function(e){return t[e]>=0})}function Qr(t){var e=t.state,n=t.name,r=e.rects.reference,s=e.rects.popper,l=e.modifiersData.preventOverflow,c=Ke(e,{elementContext:"reference"}),u=Ke(e,{altBoundary:!0}),a=$t(c,r),d=$t(u,s,l),p=Ct(a),x=Ct(d);e.modifiersData[n]={referenceClippingOffsets:a,popperEscapeOffsets:d,isReferenceHidden:p,hasPopperEscaped:x},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":x})}const Jr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Qr};function Zr(t,e,n){var r=$e(t),s=[de,pe].indexOf(r)>=0?-1:1,l=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,c=l[0],u=l[1];return c=c||0,u=(u||0)*s,[de,we].indexOf(r)>=0?{x:u,y:c}:{x:c,y:u}}function es(t){var e=t.state,n=t.options,r=t.name,s=n.offset,l=s===void 0?[0,0]:s,c=It.reduce(function(p,x){return p[x]=Zr(x,e.rects,l),p},{}),u=c[e.placement],a=u.x,d=u.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=a,e.modifiersData.popperOffsets.y+=d),e.modifiersData[r]=c}const ts={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:es};function ns(t){var e=t.state,n=t.name;e.modifiersData[n]=Vt({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const rs={name:"popperOffsets",enabled:!0,phase:"read",fn:ns,data:{}};function ss(t){return t==="x"?"y":"x"}function is(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,l=s===void 0?!0:s,c=n.altAxis,u=c===void 0?!1:c,a=n.boundary,d=n.rootBoundary,p=n.altBoundary,x=n.padding,R=n.tether,y=R===void 0?!0:R,O=n.tetherOffset,S=O===void 0?0:O,A=Ke(e,{boundary:a,rootBoundary:d,padding:x,altBoundary:p}),P=$e(e.placement),W=Fe(e.placement),U=!W,D=pt(P),z=ss(D),T=e.modifiersData.popperOffsets,k=e.rects.reference,o=e.rects.popper,i=typeof S=="function"?S(Object.assign({},e.rects,{placement:e.placement})):S,f=typeof i=="number"?{mainAxis:i,altAxis:i}:Object.assign({mainAxis:0,altAxis:0},i),h=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,v={x:0,y:0};if(!!T){if(l){var b,$=D==="y"?pe:de,K=D==="y"?_e:we,B=D==="y"?"height":"width",m=T[D],V=m+A[$],w=m-A[K],oe=y?-o[B]/2:0,ee=W===Be?k[B]:o[B],g=W===Be?-o[B]:-k[B],N=e.elements.arrow,X=y&&N?ft(N):{width:0,height:0},j=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Nt(),G=j[$],Q=j[K],H=Ue(0,k[B],X[B]),_=U?k[B]/2-oe-H-G-f.mainAxis:ee-H-G-f.mainAxis,F=U?-k[B]/2+oe+H+Q+f.mainAxis:g+H+Q+f.mainAxis,q=e.elements.arrow&&Ge(e.elements.arrow),J=q?D==="y"?q.clientTop||0:q.clientLeft||0:0,C=(b=h==null?void 0:h[D])!=null?b:0,L=m+_-C-J,Y=m+F-C,E=Ue(y?et(V,L):V,m,y?Te(w,Y):w);T[D]=E,v[D]=E-m}if(u){var xe,he=D==="x"?pe:de,fe=D==="x"?_e:we,ie=T[z],ae=z==="y"?"height":"width",le=ie+A[he],te=ie-A[fe],me=[pe,de].indexOf(P)!==-1,ne=(xe=h==null?void 0:h[z])!=null?xe:0,Se=me?le:ie-k[ae]-o[ae]-ne+f.altAxis,ge=me?ie+k[ae]+o[ae]-ne-f.altAxis:te,ze=y&&me?Sr(Se,ie,ge):Ue(y?Se:le,ie,y?ge:te);T[z]=ze,v[z]=ze-ie}e.modifiersData[r]=v}}const os={name:"preventOverflow",enabled:!0,phase:"main",fn:is,requiresIfExists:["offset"]};function as(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function ls(t){return t===Ee(t)||!be(t)?dt(t):as(t)}function cs(t){var e=t.getBoundingClientRect(),n=Le(e.width)/t.offsetWidth||1,r=Le(e.height)/t.offsetHeight||1;return n!==1||r!==1}function us(t,e,n){n===void 0&&(n=!1);var r=be(e),s=be(e)&&cs(e),l=Me(e),c=je(t,s),u={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(r||!r&&!n)&&((Re(e)!=="body"||vt(l))&&(u=ls(e)),be(e)?(a=je(e,!0),a.x+=e.clientLeft,a.y+=e.clientTop):l&&(a.x=ht(l))),{x:c.left+u.scrollLeft-a.x,y:c.top+u.scrollTop-a.y,width:c.width,height:c.height}}function fs(t){var e=new Map,n=new Set,r=[];t.forEach(function(l){e.set(l.name,l)});function s(l){n.add(l.name);var c=[].concat(l.requires||[],l.requiresIfExists||[]);c.forEach(function(u){if(!n.has(u)){var a=e.get(u);a&&s(a)}}),r.push(l)}return t.forEach(function(l){n.has(l.name)||s(l)}),r}function ps(t){var e=fs(t);return xr.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function ds(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function hs(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Rt={placement:"bottom",modifiers:[],strategy:"absolute"};function St(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function vs(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,l=s===void 0?Rt:s;return function(u,a,d){d===void 0&&(d=l);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},Rt,l),modifiersData:{},elements:{reference:u,popper:a},attributes:{},styles:{}},x=[],R=!1,y={state:p,setOptions:function(P){var W=typeof P=="function"?P(p.options):P;S(),p.options=Object.assign({},l,p.options,W),p.scrollParents={reference:Pe(u)?Ve(u):u.contextElement?Ve(u.contextElement):[],popper:Ve(a)};var U=ps(hs([].concat(r,p.options.modifiers)));return p.orderedModifiers=U.filter(function(D){return D.enabled}),O(),y.update()},forceUpdate:function(){if(!R){var P=p.elements,W=P.reference,U=P.popper;if(!!St(W,U)){p.rects={reference:us(W,Ge(U),p.options.strategy==="fixed"),popper:ft(U)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(f){return p.modifiersData[f.name]=Object.assign({},f.data)});for(var D=0;D<p.orderedModifiers.length;D++){if(p.reset===!0){p.reset=!1,D=-1;continue}var z=p.orderedModifiers[D],T=z.fn,k=z.options,o=k===void 0?{}:k,i=z.name;typeof T=="function"&&(p=T({state:p,options:o,name:i,instance:y})||p)}}}},update:ds(function(){return new Promise(function(A){y.forceUpdate(),A(p)})}),destroy:function(){S(),R=!0}};if(!St(u,a))return y;y.setOptions(d).then(function(A){!R&&d.onFirstUpdate&&d.onFirstUpdate(A)});function O(){p.orderedModifiers.forEach(function(A){var P=A.name,W=A.options,U=W===void 0?{}:W,D=A.effect;if(typeof D=="function"){var z=D({state:p,name:P,instance:y,options:U}),T=function(){};x.push(z||T)}})}function S(){x.forEach(function(A){return A()}),x=[]}return y}}var ms=[Ir,rs,jr,$r,ts,Gr,os,Tr,Jr],gs=vs({defaultModifiers:ms});const ys=["onClick"],bs=ue({__name:"ContextMenu",props:{options:null,highlight:null},emits:["select"],setup(t,{emit:e}){const n=se(),r=se(),s=se(!1);let l;Bt(r,()=>s.value=!1),tt([n,r],()=>{l==null||l.destroy(),n.value&&r.value&&(l=gs(n.value,r.value,{placement:"right-end",modifiers:[{name:"offset",options:{offset:[10,10]}}]}))});const c=a=>{e("select",a),s.value=!1},u=()=>{requestAnimationFrame(()=>s.value=!s.value)};return(a,d)=>(Z(),ye("div",{class:M(a.$style.contextMenu)},[ve("button",{ref_key:"reference",ref:n,class:M(a.$style.reference),onClick:u},[Ie(a.$slots,"default")],2),ve("div",{ref_key:"popper",ref:r,class:M(a.$style.popper)},[ve("ul",{class:M([a.$style.list,{[a.$style.visible]:s.value}])},[(Z(!0),ye(lt,null,Tt(t.options,p=>{var x;return Z(),ye("li",{class:M(a.$style.item),key:p.id},[ve("button",{class:M([a.$style.btn,{[a.$style.highlight]:t.highlight===p.id}]),onClick:R=>c(p)},st((x=p.label)!=null?x:p.id),11,ys)],2)}),128))],2)],2)],2))}}),_s="_4s",ws="_4t",ks="_4u",xs="_4v _4w _4y _51 _54",Os="_4x",Es="_4z _52 _55",$s="_50 _53 _56",Cs="_57",Rs={contextMenu:_s,reference:ws,popper:ks,list:xs,visible:Os,item:Es,btn:$s,highlight:Cs},Ss={$style:Rs},As=ke(bs,[["__cssModules",Ss]]),Ds=ue({__name:"SelectYearButton",setup(t){const{changeYear:e,state:n}=rt(),r=ce(()=>{const s=n.years.map(u=>u.year),l=Math.min(new Date().getFullYear(),...s),c=[];for(let u=0;u<3;u++)c.push({id:l+u});return c});return(s,l)=>(Z(),Oe(As,{options:I(r),highlight:I(n).activeYear,onSelect:l[0]||(l[0]=c=>I(e)(c.id))},{default:De(()=>[re(Ce,{icon:"calendar-line",textual:"",color:"dimmed"})]),_:1},8,["options","highlight"]))}}),Ms=ue({__name:"ThemeButton",props:{class:null},setup(t){const e=t,{state:n,setTheme:r}=rn(),s=nn();let l=!1;const c=ce(()=>n.appearance.theme==="light"?"sun-fill":"moon-fill"),u=ce(()=>e.class),a=sn(),d=()=>{var O;const x=(O=a==null?void 0:a.vnode.el)==null?void 0:O.getBoundingClientRect(),R=x.left+x.width/2,y=x.top+x.height/2;return`${R}px ${y}px`},p=()=>{if(l)return;l=!0;const x=n.appearance.theme,R=x==="dark";r(R?"light":"dark");const y=d(),O=s.cloneNode(!0);O.classList.add(x),document.body[R?"prepend":"append"](O);const[S,A]=R?[0,150]:[150,0],P=R?s:O;s.style.setProperty("--transitions","0"),O.style.setProperty("--transitions","0"),P.style.setProperty("clip-path",`circle(${S}% at ${y})`),P.style.setProperty("transition","all 0.75s ease-in-out"),P.addEventListener("transitionend",W=>{W.target===P&&(s.style.removeProperty("--transitions"),O.style.removeProperty("--transitions"),P.style.removeProperty("transition"),P.style.removeProperty("clip-path"),O.remove(),l=!1)}),requestAnimationFrame(()=>{P.style.setProperty("clip-path",`circle(${A}% at ${y})`)})};return(x,R)=>(Z(),Oe(Ce,{class:M([x.$style.themeButton,I(u)]),icon:I(c),textual:"",onClick:p},null,8,["class","icon"]))}}),Ts="_2y",Bs={themeButton:Ts},Ps={$style:Bs},Ls=ke(Ms,[["__cssModules",Ps]]),js=ue({__name:"Frame",setup(t){const e=se(),n=on(),r=[{icon:"donut-chart",id:"dashboard",link:"/dashboard"},{icon:"hand-coin",id:"income",link:"/income"},{icon:"shopping-basket-2",id:"expenses",link:"/expenses"}];return(s,l)=>(Z(),ye("div",{class:M(s.$style.frame)},[ve("div",{ref_key:"menu",ref:e,class:M(s.$style.buttons)},[re(Ls,{class:M(s.$style.btn)},null,8,["class"]),ve("div",{class:M(s.$style.divider)},null,2),(Z(),ye(lt,null,Tt(r,c=>re(Ht,{class:M(s.$style.btn),key:c.id,color:I(n).currentRoute.value.path.startsWith(c.link)?"primary":"dimmed",icon:c.icon,to:c.link},null,8,["class","color","icon","to"])),64)),re(fr,{class:M([s.$style.top,s.$style.btn])},null,8,["class"]),re(mn,{class:M(s.$style.btn)},null,8,["class"]),re(Ds,{class:M(s.$style.btn)},null,8,["class"]),ve("div",{class:M(s.$style.divider)},null,2),re(vn,{class:M(s.$style.btn)},null,8,["class"])],2),ve("div",{ref:"panes",class:M(s.$style.panes)},[re(Yt)],2)],2))}}),Fs="n w",Is="o x",zs="p q s u y z",Ns="r",qs="t _10",Ws="v",Us={frame:Fs,panes:Is,buttons:zs,top:Ns,divider:qs,btn:Ws},Vs={$style:Us},Zs=ke(js,[["__cssModules",Vs]]);export{Zs as default};
