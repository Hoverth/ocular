import{d as P,c as a,o as r,e as y,n as l,_ as C,k as x,l as z,j as w,w as L,m as b,i as T,t as D,h as d,p as N,q as O,a as F,u as j,s as Q,v as R,g as t,x as I,y as V,z as f,A as G,B as H}from"./index-1b1baa3a.js";import{A as J}from"./AsyncComponent-f272e829.js";import{t as E}from"./budgets-531db56b.js";import{C as K}from"./Currency-7618f47c.js";import{I as U}from"./Icon-9831ad66.js";import{L as W}from"./Link-a67a1c61.js";import{u as X,i as Z,a as ee,b as se,_ as ae}from"./EChart.vue_vue_type_script_setup_true_lang-6fe3e651.js";import"./useThemeStyles-9c14968b.js";import"./useResizeObserver-b1f4cbf9.js";const te=P({__name:"SummaryPanelChart",props:{class:{},color:{},values:{}},setup(i){const s=i;X([Z,ee,se]);const o=a(()=>s.class),n=a(()=>({animation:!1,xAxis:{type:"category",show:!1},yAxis:{type:"value",show:!1,min:Math.min(...s.values)},grid:{top:"5%",left:"5%",bottom:"5%",right:"5%"},series:[{data:s.values,type:"line",smooth:!0,showSymbol:!1,lineStyle:{width:5,cap:"round",color:s.color}}]}));return(c,m)=>(r(),y(ae,{class:l([c.$style.summaryPanelChart,o.value]),options:n.value},null,8,["class","options"]))}}),le="_b",oe={summaryPanelChart:le},ne={$style:oe},re=C(te,[["__cssModules",ne]]),ce=P({__name:"SummaryPanel",props:{class:{},title:{},subTitle:{},to:{},color:{},values:{}},setup(i){const s=i;x(e=>({"246684c0":h.value,cd8cef0c:v.value,"79a45c16":m.value}));const o=a(()=>s.class),n=z(.25),c=a(()=>Array.isArray(s.values)?s.values[s.values.length-1]:s.values),m=a(()=>`var(${s.color}-shadow)`),h=a(()=>`var(${s.color}-light)`),v=a(()=>`var(${s.color}-light-dimmed)`),A=a(()=>s.to?W:"div");return(e,_)=>(r(),w("div",{ref_key:"root",ref:n,style:O(e.$style.wrapper)},[(r(),y(N(A.value),{to:e.to,class:l([e.$style.summaryPanel,o.value])},{default:L(()=>[e.to?(r(),y(U,{key:0,class:l(e.$style.editIcon),icon:"pencil-fill"},null,8,["class"])):b("",!0),T("div",{class:l(e.$style.header)},[T("h2",{class:l(e.$style.head)},D(e.title),3),d(K,{class:l(e.$style.title),value:c.value},null,8,["class","value"]),e.subTitle?(r(),w("span",{key:0,class:l(e.$style.subTitle)},D(e.subTitle),3)):b("",!0)],2),Array.isArray(e.values)?(r(),y(re,{key:1,class:l(e.$style.chart),color:v.value,values:e.values},null,8,["class","color","values"])):b("",!0)]),_:1},8,["to","class"]))],4))}}),ue="q_",ie="r_",me="s_",ve="t_",de="u_",pe="v_",ye="w_",he="x_",_e={wrapper:ue,summaryPanel:ie,editIcon:me,header:ve,head:de,title:pe,subTitle:ye,chart:he},$e={$style:_e},g=C(ce,[["__cssModules",$e]]),fe=P({__name:"SummaryPanels",props:{class:{}},setup(i){const s=i,o=new Date().getFullYear(),{state:n}=F(),{t:c,n:m}=j(),h=Q(0),v=R(),A=a(()=>[s.class,v.summaryPanels,{[v.reduced]:n.activeYear!==o,[v.unAnimated]:h.value>=3}]),e=a(()=>E(n.income)),_=a(()=>E(n.expenses)),M=a(()=>I(e.value)),B=a(()=>I(_.value)),$=a(()=>V(M.value,B.value)),Y=a(()=>f($.value)),S=a(()=>{const u=f(_.value),p=f(e.value);return p?u/p:0}),k=a(()=>{const u=new Date().getMonth()+1;return f(V(e.value.slice(u),_.value.slice(u)))}),q=a(()=>{const u=$.value[$.value.length-1];return u?k.value/u:0});return(u,p)=>(r(),w("div",{class:l(A.value),onAnimationend:p[0]||(p[0]=De=>h.value++)},[d(g,{values:M.value,color:"--c-success",to:"/income",title:t(c)("dashboard.income")},null,8,["values","title"]),d(g,{"sub-title":t(m)(S.value,"percent"),to:"/expenses",values:B.value,color:"--c-warning",title:t(c)("dashboard.expenses")},null,8,["sub-title","values","title"]),d(g,{"sub-title":t(m)(Y.value?1-S.value:0,"percent"),values:$.value,color:"--c-primary",title:t(c)("dashboard.endingBalance")},null,8,["sub-title","values","title"]),t(o)===t(n).activeYear?(r(),y(g,{key:0,"sub-title":t(m)(q.value,"percent"),values:k.value,color:"--c-secondary",title:t(c)("dashboard.remainingBalance",{year:t(o)+1})},null,8,["sub-title","values","title"])):b("",!0)],34))}}),ge="D",be="E",we="F",Pe={summaryPanels:ge,reduced:be,unAnimated:we},Ce={$style:Pe},Ae=C(fe,[["__cssModules",Ce]]),Me=P({__name:"Overview",setup(i){const s=H();return(o,n)=>(r(),w("div",{class:l(o.$style.overview)},[d(Ae),d(J,{show:t(s)!=="mobile",class:l(o.$style.chart),import:()=>G(()=>import("./DistributionChart-7a361a17.js"),["assets/DistributionChart-7a361a17.js","assets/index-1b1baa3a.js","assets/index-2a0c6cda.css","assets/ChartPlaceholder-6b3e2d96.js","assets/Icon-9831ad66.js","assets/Icon-792e3b8e.css","assets/ChartPlaceholder-79f45977.css","assets/EChart.vue_vue_type_script_setup_true_lang-6fe3e651.js","assets/useResizeObserver-b1f4cbf9.js","assets/budgets-531db56b.js","assets/DistributionChart-d16b252f.css"])},null,8,["show","class","import"])],2))}}),Be="e",Se="f",ke={overview:Be,chart:Se},Te={$style:ke},Oe=C(Me,[["__cssModules",Te]]);export{Oe as default};
