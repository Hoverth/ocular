import{d as P,c as a,o as r,i as C,n as l,_ as w,u as Y,m as x,a as d,w as N,p as B,b as T,l as u,t as k,F as O,q,s as G,f as H,e as Q,v as R,x as U,y as j,z as D,A as V,B as f,k as t,C as J,D as K}from"./index-e730ce79.js";import{A as W}from"./AsyncComponent-d43403dd.js";import{t as z}from"./budgets-531db56b.js";import{C as X}from"./Currency-787e01a2.js";import{I as E}from"./Icon-69043def.js";import{L as Z}from"./Link-fc5926f3.js";import{u as ee,i as se,a as ae,b as te,_ as le}from"./EChart.vue_vue_type_script_setup_true_lang-9d49069b.js";import"./useThemeStyles-a6b3f5e4.js";import"./useResizeObserver-942e9c8e.js";const oe=P({__name:"SummaryPanelChart",props:{class:{},color:{},values:{}},setup(v){const s=v;ee([se,ae,te]);const o=a(()=>s.class),n=a(()=>({animation:!1,xAxis:{type:"category",show:!1},yAxis:{type:"value",show:!1,min:Math.min(...s.values)},grid:{top:"5%",left:"5%",bottom:"5%",right:"5%"},series:[{data:s.values,type:"line",smooth:!0,showSymbol:!1,lineStyle:{width:5,cap:"round",color:s.color}}]}));return(i,m)=>(r(),C(le,{class:l([i.$style.summaryPanelChart,o.value]),options:n.value},null,8,["class","options"]))}}),ne="L_",re={summaryPanelChart:ne},ce={$style:re},ue=w(oe,[["__cssModules",ce]]),ie=P({__name:"SummaryPanel",props:{class:{},title:{},subTitle:{},to:{},alt:{},color:{},values:{}},setup(v){Y(e=>({"0b68ca22":_.value,"7e5a6dd0":h.value,"630b55cb":$.value,57562074:m.value}));const s=v,o=a(()=>s.class),n=x(.25),i=a(()=>Array.isArray(s.values)?s.values[s.values.length-1]:s.values),m=a(()=>`var(--c-${s.color}-shadow)`),h=a(()=>`var(--c-${s.color}-text-accent)`),_=a(()=>`var(--c-${s.color}-light)`),$=a(()=>`var(--c-${s.color}-light-dimmed)`),y=a(()=>s.to?Z:"div");return(e,A)=>(r(),d("div",{ref_key:"root",ref:n,style:G(e.$style.wrapper)},[(r(),C(q(y.value),{to:e.to,class:l([e.$style.summaryPanel,o.value])},{default:N(()=>[e.to?(r(),C(E,{key:0,class:l(e.$style.editIcon),icon:"pencil-fill"},null,8,["class"])):B("",!0),T("div",{class:l(e.$style.header)},[e.alt?(r(),d("div",{key:0,class:l(e.$style.placeholder)},[u(E,{class:l(e.$style.icon),icon:"calendar-2-line"},null,8,["class"]),T("span",{class:l(e.$style.text)},k(e.alt),3)],2)):(r(),d(O,{key:1},[T("h2",{class:l(e.$style.head)},k(e.title),3),u(X,{class:l(e.$style.title),value:i.value},null,8,["class","value"]),e.subTitle?(r(),d("span",{key:0,class:l(e.$style.subTitle)},k(e.subTitle),3)):B("",!0)],64))],2),Array.isArray(e.values)?(r(),C(ue,{key:1,class:l(e.$style.chart),color:$.value,values:e.values},null,8,["class","color","values"])):B("",!0)]),_:1},8,["to","class"]))],4))}}),me="x_",ve="y_",de="z_",ye="A_",pe="B_",he="C_",_e="D_",$e="E_",be="F_",fe="G_",ge="H_",Ce={wrapper:me,summaryPanel:ve,editIcon:de,header:ye,head:pe,title:he,subTitle:_e,placeholder:$e,icon:be,text:fe,chart:ge},Pe={$style:Ce},g=w(ie,[["__cssModules",Pe]]),we=P({__name:"SummaryPanels",props:{class:{}},setup(v){const s=v,{state:o}=H(),{t:n,n:i}=Q(),m=R(),h=U(0),_=j(),$=a(()=>[s.class,_.summaryPanels,{[_.unAnimated]:h.value>=3}]),y=a(()=>z(o.income)),e=a(()=>z(o.expenses)),A=a(()=>D(y.value)),M=a(()=>D(e.value)),b=a(()=>V(A.value,M.value)),F=a(()=>f(b.value)),S=a(()=>{const c=f(e.value),p=f(y.value);return p?c/p:0}),I=a(()=>{const c=m.year.value===o.activeYear?m.month.value+1:0;return f(V(y.value.slice(c),e.value.slice(c)))}),L=a(()=>{const c=b.value[b.value.length-1];return c?I.value/c:0});return(c,p)=>(r(),d("div",{class:l($.value),onAnimationend:p[0]||(p[0]=Ee=>h.value++)},[u(g,{values:A.value,color:"success",to:"/income",title:t(n)("dashboard.income")},null,8,["values","title"]),u(g,{"sub-title":t(i)(S.value,"percent"),to:"/expenses",values:M.value,color:"warning",title:t(n)("dashboard.expenses")},null,8,["sub-title","values","title"]),u(g,{"sub-title":t(i)(F.value?1-S.value:0,"percent"),values:b.value,color:"primary",title:t(n)("dashboard.endingBalance")},null,8,["sub-title","values","title"]),u(g,{"sub-title":t(i)(L.value,"percent"),alt:t(o).activeYear<t(m).year.value?t(n)("dashboard.yearInThePast"):t(o).activeYear>t(m).year.value?t(n)("dashboard.yearInTheFuture"):void 0,values:I.value,color:"secondary",title:t(n)("dashboard.remainingBalance",{year:t(o).activeYear+1})},null,8,["sub-title","alt","values","title"])],34))}}),Ae="U",Be="V",Te={summaryPanels:Ae,unAnimated:Be},ke={$style:Te},Me=w(we,[["__cssModules",ke]]),Se=P({__name:"Overview",setup(v){const s=K();return(o,n)=>(r(),d("div",{class:l(o.$style.overview)},[u(Me),u(W,{show:t(s)!=="mobile",class:l(o.$style.chart),import:()=>J(()=>import("./DistributionChart-3783fc83.js"),["assets/DistributionChart-3783fc83.js","assets/index-e730ce79.js","assets/index-89f63489.css","assets/ChartPlaceholder-ccc1d281.js","assets/Icon-69043def.js","assets/Icon-8c5647a6.css","assets/ChartPlaceholder-c048134d.css","assets/EChart.vue_vue_type_script_setup_true_lang-9d49069b.js","assets/useResizeObserver-942e9c8e.js","assets/budgets-531db56b.js","assets/DistributionChart-abeaea84.css"])},null,8,["show","class","import"])],2))}}),Ie="f",De="g",Ve={overview:Ie,chart:De},ze={$style:Ve},Qe=w(Se,[["__cssModules",ze]]);export{Qe as default};
