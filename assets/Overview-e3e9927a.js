import{d as P,k as a,o as r,c as p,n,a as e,_ as C,C as N,e as w,w as Y,l as g,b as T,x,f as v,s as O,D as j,p as q,u as z,v as F,j as G,g as Q,E as R,G as H}from"./index-f2a6ac78.js";import{A as J}from"./AsyncComponent-2d308d4c.js";import{t as D,a as I,s as V,b as f}from"./budgets-e575fe6c.js";import{C as K}from"./Currency-ff0c9efa.js";import{I as U}from"./Icon-31646f77.js";import{L as W}from"./Link-1c0f1471.js";import{u as X,i as Z,a as ee,b as se,_ as ae}from"./installSVGRenderer-bd47653a.js";import"./useThemeStyles-882d273d.js";import"./useResizeObserver-59e2c948.js";const te=P({__name:"SummaryPanelChart",props:{class:null,color:null,values:null},setup(t){const s=t;X([Z,ee,se]);const o=a(()=>s.class),c=a(()=>({xAxis:{type:"category",show:!1},yAxis:{type:"value",show:!1,min:Math.min(...s.values)},grid:{top:"5%",left:"5%",bottom:"5%",right:"5%"},series:[{data:s.values,type:"line",smooth:!0,showSymbol:!1,lineStyle:{width:5,cap:"round",color:s.color}}]}));return(u,m)=>(r(),p(ae,{class:n([u.$style.summaryPanelChart,e(o)]),options:e(c)},null,8,["class","options"]))}}),le="w_",ne={summaryPanelChart:le},oe={$style:ne},ce=C(te,[["__cssModules",oe]]),re=P({__name:"SummaryPanel",props:{class:null,title:null,subTitle:null,to:null,color:null,values:null},setup(t){const s=t;q(l=>({"77983e1f":e(h),"45d1749b":e(d),abca12d4:e(m)}));const o=a(()=>s.class),c=N(.25),u=a(()=>Array.isArray(s.values)?s.values[s.values.length-1]:s.values),m=a(()=>`var(${s.color}-shadow)`),h=a(()=>`var(${s.color}-light)`),d=a(()=>`var(${s.color}-light-dimmed)`),M=a(()=>s.to?W:"div");return(l,_)=>(r(),w("div",{ref_key:"root",ref:c,style:j(l.$style.wrapper)},[(r(),p(O(e(M)),{to:t.to,class:n([l.$style.summaryPanel,e(o)])},{default:Y(()=>[t.to?(r(),p(U,{key:0,class:n(l.$style.editIcon),icon:"pencil-fill"},null,8,["class"])):g("",!0),T("div",{class:n(l.$style.header)},[T("h2",{class:n(l.$style.head)},x(t.title),3),v(K,{class:n(l.$style.title),value:e(u)},null,8,["class","value"]),t.subTitle?(r(),w("span",{key:0,class:n(l.$style.subTitle)},x(t.subTitle),3)):g("",!0)],2),Array.isArray(t.values)?(r(),p(ce,{key:1,class:n(l.$style.chart),color:e(d),values:t.values},null,8,["class","color","values"])):g("",!0)]),_:1},8,["to","class"]))],4))}}),ue="j_",ie="k_",me="l_",de="m_",ve="n_",ye="o_",pe="p_",he="q_",_e={wrapper:ue,summaryPanel:ie,editIcon:me,header:de,head:ve,title:ye,subTitle:pe,chart:he},$e={$style:_e},b=C(re,[["__cssModules",$e]]),fe=P({__name:"SummaryPanels",props:{class:null},setup(t){const s=t,o=new Date().getFullYear(),{state:c}=Q(),{t:u,n:m}=z(),h=F(0),d=G(),M=a(()=>[s.class,d.summaryPanels,{[d.reduced]:c.activeYear!==o,[d.unAnimated]:h.value>=3}]),l=a(()=>D(c.income)),_=a(()=>D(c.expenses)),A=a(()=>I(l.value)),k=a(()=>I(_.value)),$=a(()=>V(A.value,k.value)),E=a(()=>f($.value)),S=a(()=>{const i=f(_.value),y=f(l.value);return y?i/y:0}),B=a(()=>{const i=new Date().getMonth()+1;return f(V(l.value.slice(i),_.value.slice(i)))}),L=a(()=>{const i=$.value[$.value.length-1];return i?B.value/i:0});return(i,y)=>(r(),w("div",{class:n(e(M)),onAnimationend:y[0]||(y[0]=xe=>h.value++)},[v(b,{values:e(A),color:"--c-success",to:"/income",title:e(u)("dashboard.income")},null,8,["values","title"]),v(b,{"sub-title":e(m)(e(S),"percent"),to:"/expenses",values:e(k),color:"--c-warning",title:e(u)("dashboard.expenses")},null,8,["sub-title","values","title"]),v(b,{"sub-title":e(m)(e(E)?1-e(S):0,"percent"),values:e($),color:"--c-primary",title:e(u)("dashboard.endingBalance")},null,8,["sub-title","values","title"]),e(o)===e(c).activeYear?(r(),p(b,{key:0,"sub-title":e(m)(e(L),"percent"),values:e(B),color:"--c-secondary",title:e(u)("dashboard.remainingBalance",{year:e(o)+1})},null,8,["sub-title","values","title"])):g("",!0)],34))}}),be="L",ge="M",we="N",Pe={summaryPanels:be,reduced:ge,unAnimated:we},Ce={$style:Pe},Me=C(fe,[["__cssModules",Ce]]),Ae=P({__name:"Overview",setup(t){const s=H();return(o,c)=>(r(),w("div",{class:n(o.$style.overview)},[v(Me),v(J,{show:e(s)!=="mobile",class:n(o.$style.chart),import:()=>R(()=>import("./DistributionChart-532be3ba.js"),["assets/DistributionChart-532be3ba.js","assets/ChartPlaceholder-e63bb021.js","assets/Icon-31646f77.js","assets/index-f2a6ac78.js","assets/index-437ff09f.css","assets/Icon-a5d1de2d.css","assets/ChartPlaceholder-b9c70958.css","assets/installSVGRenderer-bd47653a.js","assets/useResizeObserver-59e2c948.js","assets/budgets-e575fe6c.js","assets/DistributionChart-cfb23599.css"])},null,8,["show","class","import"])],2))}}),ke="f",Se="g",Be={overview:ke,chart:Se},Te={$style:Be},qe=C(Ae,[["__cssModules",Te]]);export{qe as default};
