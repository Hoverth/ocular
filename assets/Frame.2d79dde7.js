import{L as Kt}from"./Link.fd212269.js";import{A as Gt}from"./AnimatedRouterView.554c100b.js";import{v as ae,D as rt,t as ct,E as Pt,d as ie,k as te,c as fe,n as C,a as $,I as Xt,o as U,_ as ge,j as ut,e as _e,b as de,l as Pe,x as st,m as Te,F as ft,r as Tt,w as Ee,f as G,g as Ne,J as Qt,K as Jt,L as Zt,u as We,M as en,y as tn,p as nn,N as rn,O as sn,P as wt,Q as _t,C as kt,s as on,R as an,h as ln}from"./index.ca0e9a48.js";import{B as $e}from"./Button.5456ca51.js";import{I as cn}from"./Icon.ca8fed3f.js";import{u as un}from"./useResizeObserver.8a3ca939.js";import"./useThemeStyles.51a1b7f2.js";const fn=(t,e,n)=>{const r=document.createElement("a");r.style.display="none",document.body.appendChild(r);const s=new Blob([t],{type:n});r.href=URL.createObjectURL(s),r.download=e,r.click(),document.body.removeChild(r)},pn=({accept:t,multiple:e}={})=>{const n=document.createElement("input");return document.body.appendChild(n),n.type="file",n.style.display="none",t&&(n.accept=t),e&&(n.multiple=e),new Promise((r,s)=>{n.onchange=()=>{var c;const l=Array.from((c=n.files)!=null?c:[]);document.body.removeChild(n),l.length?r(e?l:l[0]):s()},n.click()})},dn=t=>{const e=ae([]),n=new MutationObserver(r=>{e.value=r});return rt(t,r=>{n.disconnect(),r&&n.observe(r,{subtree:!0,childList:!0})}),e},hn=t=>{const e=ae(new DOMRect),n=dn(t),r=un(t);return rt([n,r],()=>{const l=t.value;l&&(l.style.setProperty("position","fixed"),e.value=l.getBoundingClientRect(),l.style.removeProperty("position"))}),e},Lt=(t,e)=>{const n=r=>{t.value&&r.isTrusted&&!r.composedPath().includes(t.value)&&e(r)};ct(()=>window.addEventListener("click",n)),Pt(()=>window.removeEventListener("click",n))},vn=ie({__name:"CloudButton",props:{class:null},setup(t){const e=t,n=te(()=>e.class),{login:r,state:s}=Xt(),l=te(()=>{switch(s.status){case"syncing":return"refresh-line";case"idle":return"cloud-off-line"}return"cloud-line"}),c=te(()=>{switch(s.status){case"authenticated":return"success";case"loading":return"warning";case"idle":return"danger";case"syncing":return"primary"}return"danger"}),u=()=>{s.status==="idle"&&r()};return(a,d)=>(U(),fe($e,{class:C([a.$style.cloudButton,$(n)]),onClick:u,textual:"",color:$(c),icon:$(l)},null,8,["class","color","icon"]))}}),mn={},gn={$style:mn},yn=ge(vn,[["__cssModules",gn]]);var he="top",ke="bottom",xe="right",ve="left",pt="auto",Qe=[he,ke,xe,ve],Le="start",Ge="end",bn="clippingParents",It="viewport",He="popper",wn="reference",xt=Qe.reduce(function(t,e){return t.concat([e+"-"+Le,e+"-"+Ge])},[]),jt=[].concat(Qe,[pt]).reduce(function(t,e){return t.concat([e,e+"-"+Le,e+"-"+Ge])},[]),_n="beforeRead",kn="read",xn="afterRead",On="beforeMain",En="main",$n="afterMain",Cn="beforeWrite",Rn="write",Sn="afterWrite",An=[_n,kn,xn,On,En,$n,Cn,Rn,Sn];function Se(t){return t?(t.nodeName||"").toLowerCase():null}function Ce(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ie(t){var e=Ce(t).Element;return t instanceof e||t instanceof Element}function we(t){var e=Ce(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function dt(t){if(typeof ShadowRoot>"u")return!1;var e=Ce(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Mn(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},s=e.attributes[n]||{},l=e.elements[n];!we(l)||!Se(l)||(Object.assign(l.style,r),Object.keys(s).forEach(function(c){var u=s[c];u===!1?l.removeAttribute(c):l.setAttribute(c,u===!0?"":u)}))})}function Dn(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],l=e.attributes[r]||{},c=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),u=c.reduce(function(a,d){return a[d]="",a},{});!we(s)||!Se(s)||(Object.assign(s.style,u),Object.keys(l).forEach(function(a){s.removeAttribute(a)}))})}}const Bn={name:"applyStyles",enabled:!0,phase:"write",fn:Mn,effect:Dn,requires:["computeStyles"]};function Re(t){return t.split("-")[0]}var Be=Math.max,nt=Math.min,je=Math.round;function Fe(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),r=1,s=1;if(we(t)&&e){var l=t.offsetHeight,c=t.offsetWidth;c>0&&(r=je(n.width)/c||1),l>0&&(s=je(n.height)/l||1)}return{width:n.width/r,height:n.height/s,top:n.top/s,right:n.right/r,bottom:n.bottom/s,left:n.left/r,x:n.left/r,y:n.top/s}}function ht(t){var e=Fe(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Ft(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&dt(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Me(t){return Ce(t).getComputedStyle(t)}function Pn(t){return["table","td","th"].indexOf(Se(t))>=0}function De(t){return((Ie(t)?t.ownerDocument:t.document)||window.document).documentElement}function it(t){return Se(t)==="html"?t:t.assignedSlot||t.parentNode||(dt(t)?t.host:null)||De(t)}function Ot(t){return!we(t)||Me(t).position==="fixed"?null:t.offsetParent}function Tn(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&we(t)){var r=Me(t);if(r.position==="fixed")return null}var s=it(t);for(dt(s)&&(s=s.host);we(s)&&["html","body"].indexOf(Se(s))<0;){var l=Me(s);if(l.transform!=="none"||l.perspective!=="none"||l.contain==="paint"||["transform","perspective"].indexOf(l.willChange)!==-1||e&&l.willChange==="filter"||e&&l.filter&&l.filter!=="none")return s;s=s.parentNode}return null}function Je(t){for(var e=Ce(t),n=Ot(t);n&&Pn(n)&&Me(n).position==="static";)n=Ot(n);return n&&(Se(n)==="html"||Se(n)==="body"&&Me(n).position==="static")?e:n||Tn(t)||e}function vt(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ye(t,e,n){return Be(t,nt(e,n))}function Ln(t,e,n){var r=Ye(t,e,n);return r>n?n:r}function zt(){return{top:0,right:0,bottom:0,left:0}}function Nt(t){return Object.assign({},zt(),t)}function Wt(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var In=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Nt(typeof e!="number"?e:Wt(e,Qe))};function jn(t){var e,n=t.state,r=t.name,s=t.options,l=n.elements.arrow,c=n.modifiersData.popperOffsets,u=Re(n.placement),a=vt(u),d=[ve,xe].indexOf(u)>=0,p=d?"height":"width";if(!(!l||!c)){var b=In(s.padding,n),R=ht(l),v=a==="y"?he:ve,O=a==="y"?ke:xe,M=n.rects.reference[p]+n.rects.reference[a]-c[a]-n.rects.popper[p],D=c[a]-n.rects.reference[a],L=Je(l),q=L?a==="y"?L.clientHeight||0:L.clientWidth||0:0,V=M/2-D/2,B=b[v],z=q-R[p]-b[O],P=q/2-R[p]/2+V,x=Ye(B,P,z),o=a;n.modifiersData[r]=(e={},e[o]=x,e.centerOffset=x-P,e)}}function Fn(t){var e=t.state,n=t.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||!Ft(e.elements.popper,s)||(e.elements.arrow=s))}const zn={name:"arrow",enabled:!0,phase:"main",fn:jn,effect:Fn,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ze(t){return t.split("-")[1]}var Nn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Wn(t){var e=t.x,n=t.y,r=window,s=r.devicePixelRatio||1;return{x:je(e*s)/s||0,y:je(n*s)/s||0}}function Et(t){var e,n=t.popper,r=t.popperRect,s=t.placement,l=t.variation,c=t.offsets,u=t.position,a=t.gpuAcceleration,d=t.adaptive,p=t.roundOffsets,b=t.isFixed,R=c.x,v=R===void 0?0:R,O=c.y,M=O===void 0?0:O,D=typeof p=="function"?p({x:v,y:M}):{x:v,y:M};v=D.x,M=D.y;var L=c.hasOwnProperty("x"),q=c.hasOwnProperty("y"),V=ve,B=he,z=window;if(d){var P=Je(n),x="clientHeight",o="clientWidth";if(P===Ce(n)&&(P=De(n),Me(P).position!=="static"&&u==="absolute"&&(x="scrollHeight",o="scrollWidth")),P=P,s===he||(s===ve||s===xe)&&l===Ge){B=ke;var i=b&&P===z&&z.visualViewport?z.visualViewport.height:P[x];M-=i-r.height,M*=a?1:-1}if(s===ve||(s===he||s===ke)&&l===Ge){V=xe;var f=b&&P===z&&z.visualViewport?z.visualViewport.width:P[o];v-=f-r.width,v*=a?1:-1}}var h=Object.assign({position:u},d&&Nn),m=p===!0?Wn({x:v,y:M}):{x:v,y:M};if(v=m.x,M=m.y,a){var w;return Object.assign({},h,(w={},w[B]=q?"0":"",w[V]=L?"0":"",w.transform=(z.devicePixelRatio||1)<=1?"translate("+v+"px, "+M+"px)":"translate3d("+v+"px, "+M+"px, 0)",w))}return Object.assign({},h,(e={},e[B]=q?M+"px":"",e[V]=L?v+"px":"",e.transform="",e))}function qn(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,l=n.adaptive,c=l===void 0?!0:l,u=n.roundOffsets,a=u===void 0?!0:u,d={placement:Re(e.placement),variation:ze(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Et(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:c,roundOffsets:a})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Et(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Un={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:qn,data:{}};var et={passive:!0};function Vn(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,l=s===void 0?!0:s,c=r.resize,u=c===void 0?!0:c,a=Ce(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return l&&d.forEach(function(p){p.addEventListener("scroll",n.update,et)}),u&&a.addEventListener("resize",n.update,et),function(){l&&d.forEach(function(p){p.removeEventListener("scroll",n.update,et)}),u&&a.removeEventListener("resize",n.update,et)}}const Hn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Vn,data:{}};var Yn={left:"right",right:"left",bottom:"top",top:"bottom"};function tt(t){return t.replace(/left|right|bottom|top/g,function(e){return Yn[e]})}var Kn={start:"end",end:"start"};function $t(t){return t.replace(/start|end/g,function(e){return Kn[e]})}function mt(t){var e=Ce(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function gt(t){return Fe(De(t)).left+mt(t).scrollLeft}function Gn(t){var e=Ce(t),n=De(t),r=e.visualViewport,s=n.clientWidth,l=n.clientHeight,c=0,u=0;return r&&(s=r.width,l=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(c=r.offsetLeft,u=r.offsetTop)),{width:s,height:l,x:c+gt(t),y:u}}function Xn(t){var e,n=De(t),r=mt(t),s=(e=t.ownerDocument)==null?void 0:e.body,l=Be(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),c=Be(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),u=-r.scrollLeft+gt(t),a=-r.scrollTop;return Me(s||n).direction==="rtl"&&(u+=Be(n.clientWidth,s?s.clientWidth:0)-l),{width:l,height:c,x:u,y:a}}function yt(t){var e=Me(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function qt(t){return["html","body","#document"].indexOf(Se(t))>=0?t.ownerDocument.body:we(t)&&yt(t)?t:qt(it(t))}function Ke(t,e){var n;e===void 0&&(e=[]);var r=qt(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),l=Ce(r),c=s?[l].concat(l.visualViewport||[],yt(r)?r:[]):r,u=e.concat(c);return s?u:u.concat(Ke(it(c)))}function at(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Qn(t){var e=Fe(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function Ct(t,e){return e===It?at(Gn(t)):Ie(e)?Qn(e):at(Xn(De(t)))}function Jn(t){var e=Ke(it(t)),n=["absolute","fixed"].indexOf(Me(t).position)>=0,r=n&&we(t)?Je(t):t;return Ie(r)?e.filter(function(s){return Ie(s)&&Ft(s,r)&&Se(s)!=="body"}):[]}function Zn(t,e,n){var r=e==="clippingParents"?Jn(t):[].concat(e),s=[].concat(r,[n]),l=s[0],c=s.reduce(function(u,a){var d=Ct(t,a);return u.top=Be(d.top,u.top),u.right=nt(d.right,u.right),u.bottom=nt(d.bottom,u.bottom),u.left=Be(d.left,u.left),u},Ct(t,l));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function Ut(t){var e=t.reference,n=t.element,r=t.placement,s=r?Re(r):null,l=r?ze(r):null,c=e.x+e.width/2-n.width/2,u=e.y+e.height/2-n.height/2,a;switch(s){case he:a={x:c,y:e.y-n.height};break;case ke:a={x:c,y:e.y+e.height};break;case xe:a={x:e.x+e.width,y:u};break;case ve:a={x:e.x-n.width,y:u};break;default:a={x:e.x,y:e.y}}var d=s?vt(s):null;if(d!=null){var p=d==="y"?"height":"width";switch(l){case Le:a[d]=a[d]-(e[p]/2-n[p]/2);break;case Ge:a[d]=a[d]+(e[p]/2-n[p]/2);break}}return a}function Xe(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,l=n.boundary,c=l===void 0?bn:l,u=n.rootBoundary,a=u===void 0?It:u,d=n.elementContext,p=d===void 0?He:d,b=n.altBoundary,R=b===void 0?!1:b,v=n.padding,O=v===void 0?0:v,M=Nt(typeof O!="number"?O:Wt(O,Qe)),D=p===He?wn:He,L=t.rects.popper,q=t.elements[R?D:p],V=Zn(Ie(q)?q:q.contextElement||De(t.elements.popper),c,a),B=Fe(t.elements.reference),z=Ut({reference:B,element:L,strategy:"absolute",placement:s}),P=at(Object.assign({},L,z)),x=p===He?P:B,o={top:V.top-x.top+M.top,bottom:x.bottom-V.bottom+M.bottom,left:V.left-x.left+M.left,right:x.right-V.right+M.right},i=t.modifiersData.offset;if(p===He&&i){var f=i[s];Object.keys(o).forEach(function(h){var m=[xe,ke].indexOf(h)>=0?1:-1,w=[he,ke].indexOf(h)>=0?"y":"x";o[h]+=f[w]*m})}return o}function er(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,l=n.rootBoundary,c=n.padding,u=n.flipVariations,a=n.allowedAutoPlacements,d=a===void 0?jt:a,p=ze(r),b=p?u?xt:xt.filter(function(O){return ze(O)===p}):Qe,R=b.filter(function(O){return d.indexOf(O)>=0});R.length===0&&(R=b);var v=R.reduce(function(O,M){return O[M]=Xe(t,{placement:M,boundary:s,rootBoundary:l,padding:c})[Re(M)],O},{});return Object.keys(v).sort(function(O,M){return v[O]-v[M]})}function tr(t){if(Re(t)===pt)return[];var e=tt(t);return[$t(t),e,$t(e)]}function nr(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,l=s===void 0?!0:s,c=n.altAxis,u=c===void 0?!0:c,a=n.fallbackPlacements,d=n.padding,p=n.boundary,b=n.rootBoundary,R=n.altBoundary,v=n.flipVariations,O=v===void 0?!0:v,M=n.allowedAutoPlacements,D=e.options.placement,L=Re(D),q=L===D,V=a||(q||!O?[tt(D)]:tr(D)),B=[D].concat(V).reduce(function(Q,j){return Q.concat(Re(j)===pt?er(e,{placement:j,boundary:p,rootBoundary:b,padding:d,flipVariations:O,allowedAutoPlacements:M}):j)},[]),z=e.rects.reference,P=e.rects.popper,x=new Map,o=!0,i=B[0],f=0;f<B.length;f++){var h=B[f],m=Re(h),w=ze(h)===Le,S=[he,ke].indexOf(m)>=0,X=S?"width":"height",T=Xe(e,{placement:h,boundary:p,rootBoundary:b,altBoundary:R,padding:d}),g=S?w?xe:ve:w?ke:he;z[X]>P[X]&&(g=tt(g));var H=tt(g),k=[];if(l&&k.push(T[m]<=0),u&&k.push(T[g]<=0,T[H]<=0),k.every(function(Q){return Q})){i=h,o=!1;break}x.set(h,k)}if(o)for(var le=O?3:1,ne=function(j){var J=B.find(function(Z){var Y=x.get(Z);if(Y)return Y.slice(0,j).every(function(_){return _})});if(J)return i=J,"break"},y=le;y>0;y--){var N=ne(y);if(N==="break")break}e.placement!==i&&(e.modifiersData[r]._skip=!0,e.placement=i,e.reset=!0)}}const rr={name:"flip",enabled:!0,phase:"main",fn:nr,requiresIfExists:["offset"],data:{_skip:!1}};function Rt(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function St(t){return[he,xe,ke,ve].some(function(e){return t[e]>=0})}function sr(t){var e=t.state,n=t.name,r=e.rects.reference,s=e.rects.popper,l=e.modifiersData.preventOverflow,c=Xe(e,{elementContext:"reference"}),u=Xe(e,{altBoundary:!0}),a=Rt(c,r),d=Rt(u,s,l),p=St(a),b=St(d);e.modifiersData[n]={referenceClippingOffsets:a,popperEscapeOffsets:d,isReferenceHidden:p,hasPopperEscaped:b},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":b})}const ir={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:sr};function or(t,e,n){var r=Re(t),s=[ve,he].indexOf(r)>=0?-1:1,l=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,c=l[0],u=l[1];return c=c||0,u=(u||0)*s,[ve,xe].indexOf(r)>=0?{x:u,y:c}:{x:c,y:u}}function ar(t){var e=t.state,n=t.options,r=t.name,s=n.offset,l=s===void 0?[0,0]:s,c=jt.reduce(function(p,b){return p[b]=or(b,e.rects,l),p},{}),u=c[e.placement],a=u.x,d=u.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=a,e.modifiersData.popperOffsets.y+=d),e.modifiersData[r]=c}const lr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ar};function cr(t){var e=t.state,n=t.name;e.modifiersData[n]=Ut({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const ur={name:"popperOffsets",enabled:!0,phase:"read",fn:cr,data:{}};function fr(t){return t==="x"?"y":"x"}function pr(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,l=s===void 0?!0:s,c=n.altAxis,u=c===void 0?!1:c,a=n.boundary,d=n.rootBoundary,p=n.altBoundary,b=n.padding,R=n.tether,v=R===void 0?!0:R,O=n.tetherOffset,M=O===void 0?0:O,D=Xe(e,{boundary:a,rootBoundary:d,padding:b,altBoundary:p}),L=Re(e.placement),q=ze(e.placement),V=!q,B=vt(L),z=fr(B),P=e.modifiersData.popperOffsets,x=e.rects.reference,o=e.rects.popper,i=typeof M=="function"?M(Object.assign({},e.rects,{placement:e.placement})):M,f=typeof i=="number"?{mainAxis:i,altAxis:i}:Object.assign({mainAxis:0,altAxis:0},i),h=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,m={x:0,y:0};if(!!P){if(l){var w,S=B==="y"?he:ve,X=B==="y"?ke:xe,T=B==="y"?"height":"width",g=P[B],H=g+D[S],k=g-D[X],le=v?-o[T]/2:0,ne=q===Le?x[T]:o[T],y=q===Le?-o[T]:-x[T],N=e.elements.arrow,Q=v&&N?ht(N):{width:0,height:0},j=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:zt(),J=j[S],Z=j[X],Y=Ye(0,x[T],Q[T]),_=V?x[T]/2-le-Y-J-f.mainAxis:ne-Y-J-f.mainAxis,F=V?-x[T]/2+le+Y+Z+f.mainAxis:y+Y+Z+f.mainAxis,W=e.elements.arrow&&Je(e.elements.arrow),ee=W?B==="y"?W.clientTop||0:W.clientLeft||0:0,A=(w=h==null?void 0:h[B])!=null?w:0,I=g+_-A-ee,K=g+F-A,E=Ye(v?nt(H,I):H,g,v?Be(k,K):k);P[B]=E,m[B]=E-g}if(u){var Oe,me=B==="x"?he:ve,pe=B==="x"?ke:xe,oe=P[z],ce=z==="y"?"height":"width",ue=oe+D[me],re=oe-D[pe],ye=[he,ve].indexOf(L)!==-1,se=(Oe=h==null?void 0:h[z])!=null?Oe:0,Ae=ye?ue:oe-x[ce]-o[ce]-se+f.altAxis,be=ye?oe+x[ce]+o[ce]-se-f.altAxis:re,qe=v&&ye?Ln(Ae,oe,be):Ye(v?Ae:ue,oe,v?be:re);P[z]=qe,m[z]=qe-oe}e.modifiersData[r]=m}}const dr={name:"preventOverflow",enabled:!0,phase:"main",fn:pr,requiresIfExists:["offset"]};function hr(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function vr(t){return t===Ce(t)||!we(t)?mt(t):hr(t)}function mr(t){var e=t.getBoundingClientRect(),n=je(e.width)/t.offsetWidth||1,r=je(e.height)/t.offsetHeight||1;return n!==1||r!==1}function gr(t,e,n){n===void 0&&(n=!1);var r=we(e),s=we(e)&&mr(e),l=De(e),c=Fe(t,s),u={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(r||!r&&!n)&&((Se(e)!=="body"||yt(l))&&(u=vr(e)),we(e)?(a=Fe(e,!0),a.x+=e.clientLeft,a.y+=e.clientTop):l&&(a.x=gt(l))),{x:c.left+u.scrollLeft-a.x,y:c.top+u.scrollTop-a.y,width:c.width,height:c.height}}function yr(t){var e=new Map,n=new Set,r=[];t.forEach(function(l){e.set(l.name,l)});function s(l){n.add(l.name);var c=[].concat(l.requires||[],l.requiresIfExists||[]);c.forEach(function(u){if(!n.has(u)){var a=e.get(u);a&&s(a)}}),r.push(l)}return t.forEach(function(l){n.has(l.name)||s(l)}),r}function br(t){var e=yr(t);return An.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function wr(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function _r(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var At={placement:"bottom",modifiers:[],strategy:"absolute"};function Mt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function kr(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,l=s===void 0?At:s;return function(u,a,d){d===void 0&&(d=l);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},At,l),modifiersData:{},elements:{reference:u,popper:a},attributes:{},styles:{}},b=[],R=!1,v={state:p,setOptions:function(L){var q=typeof L=="function"?L(p.options):L;M(),p.options=Object.assign({},l,p.options,q),p.scrollParents={reference:Ie(u)?Ke(u):u.contextElement?Ke(u.contextElement):[],popper:Ke(a)};var V=br(_r([].concat(r,p.options.modifiers)));return p.orderedModifiers=V.filter(function(B){return B.enabled}),O(),v.update()},forceUpdate:function(){if(!R){var L=p.elements,q=L.reference,V=L.popper;if(!!Mt(q,V)){p.rects={reference:gr(q,Je(V),p.options.strategy==="fixed"),popper:ht(V)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(f){return p.modifiersData[f.name]=Object.assign({},f.data)});for(var B=0;B<p.orderedModifiers.length;B++){if(p.reset===!0){p.reset=!1,B=-1;continue}var z=p.orderedModifiers[B],P=z.fn,x=z.options,o=x===void 0?{}:x,i=z.name;typeof P=="function"&&(p=P({state:p,options:o,name:i,instance:v})||p)}}}},update:wr(function(){return new Promise(function(D){v.forceUpdate(),D(p)})}),destroy:function(){M(),R=!0}};if(!Mt(u,a))return v;v.setOptions(d).then(function(D){!R&&d.onFirstUpdate&&d.onFirstUpdate(D)});function O(){p.orderedModifiers.forEach(function(D){var L=D.name,q=D.options,V=q===void 0?{}:q,B=D.effect;if(typeof B=="function"){var z=B({state:p,name:L,instance:v,options:V}),P=function(){};b.push(z||P)}})}function M(){b.forEach(function(D){return D()}),b=[]}return v}}var xr=[Hn,ur,Un,Bn,lr,rr,dr,zn,ir],Or=kr({defaultModifiers:xr});const Er=ie({__name:"ContextMenuButton",props:{class:null,text:null,icon:null,padIcon:{type:Boolean,default:!1},highlight:{type:Boolean,default:!1}},emits:["click"],setup(t,{emit:e}){const n=t,r=ut(),s=te(()=>[n.class,r.btn,{[r.highlight]:n.highlight,[r.padIcon]:n.padIcon&&!n.icon}]);return(l,c)=>(U(),_e("li",{class:C(l.$style.item)},[de("button",{class:C($(s)),onClick:c[0]||(c[0]=u=>e("click",u))},[t.icon?(U(),fe(cn,{key:0,icon:t.icon,class:C(l.$style.icon)},null,8,["icon","class"])):Pe("",!0),de("span",null,st(t.text),1)],2)],2))}}),$r="La",Cr="Ma",Rr="Na",Sr="Oa",Ar="Pa",Mr={item:$r,btn:Cr,icon:Rr,padIcon:Sr,highlight:Ar},Dr={$style:Mr},bt=ge(Er,[["__cssModules",Dr]]),Br=ie({__name:"ContextMenu",props:{class:null,options:null,highlight:null},emits:["select"],setup(t,{emit:e}){const n=t,r=ae(),s=ae(),l=ae(!1);let c;Lt(s,()=>l.value=!1),rt([l,r,s],()=>{c==null||c.destroy(),l.value&&r.value&&s.value&&(c=Or(r.value,s.value,{placement:"right-end",modifiers:[{name:"offset",options:{offset:[10,10]}}]}))});const u=te(()=>n.class),a=te(()=>{var b;return(b=n.options)==null?void 0:b.some(R=>R.icon)}),d=b=>{e("select",b),l.value=!1},p=()=>{requestAnimationFrame(()=>l.value=!l.value)};return(b,R)=>(U(),_e("div",{class:C([b.$style.contextMenu,$(u)])},[de("div",{ref_key:"reference",ref:r,class:C(b.$style.reference),onClick:p},[Te(b.$slots,"default")],2),de("div",{ref_key:"popper",ref:s,class:C([b.$style.popper,{[b.$style.visible]:l.value}])},[de("ul",{class:C(b.$style.list)},[b.$slots.options?Te(b.$slots,"options",{key:0}):t.options?(U(!0),_e(ft,{key:1},Tt(t.options,v=>{var O;return U(),fe(bt,{"pad-icon":$(a),key:v.id,text:(O=v.label)!=null?O:v.id,icon:v.icon,highlight:v.id===t.highlight,onClick:M=>d(v)},null,8,["pad-icon","text","icon","highlight","onClick"])}),128)):Pe("",!0)],2)],2)],2))}}),Pr="da",Tr="ea",Lr="fa",Ir="ga",jr="ha",Fr={contextMenu:Pr,reference:Tr,popper:Lr,visible:Ir,list:jr},zr={$style:Fr},ot=ge(Br,[["__cssModules",zr]]),Nr=ie({__name:"SelectYearButton",setup(t){const{changeYear:n,state:r}=Ne(),s=te(()=>{const l=r.years.map(a=>a.year),c=Math.min(new Date().getFullYear(),...l),u=[];for(let a=0;a<=1;a++)u.push({id:c+a,icon:r.activeYear===c+a?"calendar-check-line":"calendar-todo-line"});return u});return(l,c)=>(U(),fe(ot,{options:$(s),highlight:$(r).activeYear,onSelect:c[0]||(c[0]=u=>$(n)(u.id))},{default:Ee(()=>[G($e,{icon:"calendar-line",textual:"",color:"dimmed"})]),_:1},8,["options","highlight"]))}}),Wr=ie({__name:"ThemeButton",props:{class:null},setup(t){const e=t,{state:n,setTheme:r}=Jt(),s=Qt();let l=!1;const c=te(()=>n.appearance.theme==="light"?"sun-fill":"moon-fill"),u=te(()=>e.class),a=Zt(),d=()=>{var O;const b=(O=a==null?void 0:a.vnode.el)==null?void 0:O.getBoundingClientRect(),R=b.left+b.width/2,v=b.top+b.height/2;return`${R}px ${v}px`},p=()=>{if(l)return;l=!0;const b=n.appearance.theme,R=b==="dark";r(R?"light":"dark");const v=d(),O=s.cloneNode(!0);O.classList.add(b),document.body[R?"prepend":"append"](O);const[M,D]=R?[0,150]:[150,0],L=R?s:O;s.style.setProperty("--transitions","0"),O.style.setProperty("--transitions","0"),L.style.setProperty("clip-path",`circle(${M}% at ${v})`),L.style.setProperty("transition","all 0.75s ease-in-out"),L.addEventListener("transitionend",q=>{q.target===L&&(s.style.removeProperty("--transitions"),O.style.removeProperty("--transitions"),L.style.removeProperty("transition"),L.style.removeProperty("clip-path"),O.remove(),l=!1)}),requestAnimationFrame(()=>{L.style.setProperty("clip-path",`circle(${D}% at ${v})`)})};return(b,R)=>(U(),fe($e,{class:C([b.$style.themeButton,$(u)]),icon:$(c),textual:"",onClick:p},null,8,["class","icon"]))}}),qr="s",Ur={themeButton:qr},Vr={$style:Ur},Hr=ge(Wr,[["__cssModules",Vr]]),Yr=ie({__name:"ExportButton",props:{class:null},setup(t){const e=t,n=te(()=>e.class),{serialize:r}=Ne(),{t:s}=We(),l=()=>{fn(r(),`${s("data.export.fileName")}.json`,"application/json")};return(c,u)=>(U(),fe(bt,{class:C($(n)),text:$(s)("data.export.export"),icon:"download-cloud-2-line",onClick:l},null,8,["class","text"]))}}),Vt=Symbol("OnboardingStore"),Kr=ie({__name:"Step",props:{class:null},setup(t){const e=t,n=ae(),r=hn(n),{register:s,unregister:l}=en(Vt);ct(()=>s(r)),Pt(()=>l(r));const c=te(()=>e.class);return(u,a)=>(U(),_e("div",{ref_key:"root",ref:n,class:C([u.$style.step,$(c)])},[Te(u.$slots,"default")],2))}}),Gr="Ja",Xr="Ka",Qr={step:Gr,shadow:Xr},Jr={$style:Qr},Dt=ge(Kr,[["__cssModules",Jr]]),Zr=ie({__name:"Steps",props:{class:null},emits:["finish"],setup(t,{expose:e,emit:n}){const r=t;nn(v=>({"3126ba48":$(a).width,"274e825e":$(a).height,b43a40aa:$(d)}));const s=ae(),l=tn([]),c=te(()=>r.class),u=ae(0),a=te(()=>{var v,O;return(O=(v=l[u.value])==null?void 0:v.value)!=null?O:new DOMRect}),d=te(()=>l.slice(0,u.value).reduce((v,O)=>v+O.value.width,0));rn(Vt,{register:v=>l.push(v),unregister:v=>sn(l,v)});const p=()=>u.value=0,b=()=>u.value=Math.max(0,u.value-1),R=()=>{u.value+1<l.length?u.value++:n("finish")};return e({reset:p,previous:b,next:R}),(v,O)=>(U(),_e("div",{ref_key:"root",ref:s,class:C([v.$style.steps,$(c)])},[Te(v.$slots,"default",{next:R,previous:b,reset:p})],2))}}),es="Qa",ts={steps:es},ns={$style:ts},rs=ge(Zr,[["__cssModules",ns]]),ss=ie({__name:"FilePicker",props:{modelValue:null,class:null,placeholder:null,accept:null},emits:["update:model-value"],setup(t,{emit:e}){const n=t,r=ut(),s=te(()=>[n.class,r.filePicker,{[r.empty]:!n.modelValue}]),l=()=>{var c;pn({accept:(c=n.accept)==null?void 0:c.join(","),multiple:!1}).then(u=>{e("update:model-value",u)})};return(c,u)=>{var a,d;return U(),_e("button",{onClick:l,type:"button",class:C($(s))},[de("span",{class:C(c.$style.label)},st((d=(a=t.modelValue)==null?void 0:a.name)!=null?d:t.placeholder),3)],2)}}}),is="mc",os="nc",as="oc",ls="pc",cs={filePicker:is,icon:os,label:as,empty:ls},us={$style:cs},lt=ge(ss,[["__cssModules",us]]),fs=ie({__name:"Screen",props:{class:null,title:null,back:null},setup(t){const e=t,n=te(()=>e.class);return(r,s)=>(U(),_e("div",{class:C(r.$style.screen)},[t.title?(U(),_e("h1",{key:0,class:C(r.$style.title)},[t.back?(U(),fe($e,{key:0,color:"dark",icon:"arrow-left-s-line",textual:"",onClick:t.back},null,8,["onClick"])):Pe("",!0),de("span",null,st(t.title),1)],2)):Pe("",!0),de("div",{class:C($(n))},[Te(r.$slots,"default")],2)],2))}}),ps="Va",ds="Wa",hs={screen:ps,title:ds},vs={$style:hs},Ht=ge(fs,[["__cssModules",vs]]),ms=ie({__name:"BudgetFileScreen",props:{back:null},emits:["loaded"],setup(t,{emit:e}){const{deserialize:n}=Ne(),r=ae(),{t:s}=We(),l=async()=>{r.value&&(await n(r.value),e("loaded"))};return(c,u)=>(U(),fe(Ht,{back:t.back,class:C(c.$style.screen),title:$(s)("data.import.start.ocular")},{default:Ee(()=>[G(lt,{modelValue:r.value,"onUpdate:modelValue":u[0]||(u[0]=a=>r.value=a),class:C(c.$style.input),placeholder:$(s)("data.import.ocular.pickFile"),accept:[".json"]},null,8,["modelValue","class","placeholder","accept"]),r.value?(U(),fe($e,{key:0,icon:"upload-cloud-2-line",text:$(s)("data.import.import"),onClick:l},null,8,["text"])):Pe("",!0)]),_:1},8,["back","class","title"]))}}),gs="Fa",ys="Ga",bs={screen:gs,input:ys},ws={$style:bs},_s=ge(ms,[["__cssModules",ws]]);var ks=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yt={exports:{}};/* @license
Papa Parse
v5.3.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(n,r){t.exports=r()})(ks,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s=!r.document&&!!r.postMessage,l=s&&/blob:/i.test((r.location||{}).protocol),c={},u=0,a={parse:function(o,i){var f=(i=i||{}).dynamicTyping||!1;if(x(f)&&(i.dynamicTypingFunction=f,f={}),i.dynamicTyping=f,i.transform=!!x(i.transform)&&i.transform,i.worker&&a.WORKERS_SUPPORTED){var h=function(){if(!a.WORKERS_SUPPORTED)return!1;var w=(X=r.URL||r.webkitURL||null,T=n.toString(),a.BLOB_URL||(a.BLOB_URL=X.createObjectURL(new Blob(["(",T,")();"],{type:"text/javascript"})))),S=new r.Worker(w),X,T;return S.onmessage=q,S.id=u++,c[S.id]=S}();return h.userStep=i.step,h.userChunk=i.chunk,h.userComplete=i.complete,h.userError=i.error,i.step=x(i.step),i.chunk=x(i.chunk),i.complete=x(i.complete),i.error=x(i.error),delete i.worker,void h.postMessage({input:o,config:i,workerId:h.id})}var m=null;return a.NODE_STREAM_INPUT,typeof o=="string"?m=i.download?new b(i):new v(i):o.readable===!0&&x(o.read)&&x(o.on)?m=new O(i):(r.File&&o instanceof File||o instanceof Object)&&(m=new R(i)),m.stream(o)},unparse:function(o,i){var f=!1,h=!0,m=",",w=`\r
`,S='"',X=S+S,T=!1,g=null,H=!1;(function(){if(typeof i=="object"){if(typeof i.delimiter!="string"||a.BAD_DELIMITERS.filter(function(y){return i.delimiter.indexOf(y)!==-1}).length||(m=i.delimiter),(typeof i.quotes=="boolean"||typeof i.quotes=="function"||Array.isArray(i.quotes))&&(f=i.quotes),typeof i.skipEmptyLines!="boolean"&&typeof i.skipEmptyLines!="string"||(T=i.skipEmptyLines),typeof i.newline=="string"&&(w=i.newline),typeof i.quoteChar=="string"&&(S=i.quoteChar),typeof i.header=="boolean"&&(h=i.header),Array.isArray(i.columns)){if(i.columns.length===0)throw new Error("Option columns is empty");g=i.columns}i.escapeChar!==void 0&&(X=i.escapeChar+S),(typeof i.escapeFormulae=="boolean"||i.escapeFormulae instanceof RegExp)&&(H=i.escapeFormulae instanceof RegExp?i.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var k=new RegExp(D(S),"g");if(typeof o=="string"&&(o=JSON.parse(o)),Array.isArray(o)){if(!o.length||Array.isArray(o[0]))return le(null,o,T);if(typeof o[0]=="object")return le(g||Object.keys(o[0]),o,T)}else if(typeof o=="object")return typeof o.data=="string"&&(o.data=JSON.parse(o.data)),Array.isArray(o.data)&&(o.fields||(o.fields=o.meta&&o.meta.fields||g),o.fields||(o.fields=Array.isArray(o.data[0])?o.fields:typeof o.data[0]=="object"?Object.keys(o.data[0]):[]),Array.isArray(o.data[0])||typeof o.data[0]=="object"||(o.data=[o.data])),le(o.fields||[],o.data||[],T);throw new Error("Unable to serialize unrecognized input");function le(y,N,Q){var j="";typeof y=="string"&&(y=JSON.parse(y)),typeof N=="string"&&(N=JSON.parse(N));var J=Array.isArray(y)&&0<y.length,Z=!Array.isArray(N[0]);if(J&&h){for(var Y=0;Y<y.length;Y++)0<Y&&(j+=m),j+=ne(y[Y],Y);0<N.length&&(j+=w)}for(var _=0;_<N.length;_++){var F=J?y.length:N[_].length,W=!1,ee=J?Object.keys(N[_]).length===0:N[_].length===0;if(Q&&!J&&(W=Q==="greedy"?N[_].join("").trim()==="":N[_].length===1&&N[_][0].length===0),Q==="greedy"&&J){for(var A=[],I=0;I<F;I++){var K=Z?y[I]:I;A.push(N[_][K])}W=A.join("").trim()===""}if(!W){for(var E=0;E<F;E++){0<E&&!ee&&(j+=m);var Oe=J&&Z?y[E]:E;j+=ne(N[_][Oe],E)}_<N.length-1&&(!Q||0<F&&!ee)&&(j+=w)}}return j}function ne(y,N){if(y==null)return"";if(y.constructor===Date)return JSON.stringify(y).slice(1,25);var Q=!1;H&&typeof y=="string"&&H.test(y)&&(y="'"+y,Q=!0);var j=y.toString().replace(k,X);return(Q=Q||f===!0||typeof f=="function"&&f(y,N)||Array.isArray(f)&&f[N]||function(J,Z){for(var Y=0;Y<Z.length;Y++)if(-1<J.indexOf(Z[Y]))return!0;return!1}(j,a.BAD_DELIMITERS)||-1<j.indexOf(m)||j.charAt(0)===" "||j.charAt(j.length-1)===" ")?S+j+S:j}}};if(a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\uFEFF",a.BAD_DELIMITERS=["\r",`
`,'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!s&&!!r.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=L,a.ParserHandle=M,a.NetworkStreamer=b,a.FileStreamer=R,a.StringStreamer=v,a.ReadableStreamStreamer=O,r.jQuery){var d=r.jQuery;d.fn.parse=function(o){var i=o.config||{},f=[];return this.each(function(w){if(!(d(this).prop("tagName").toUpperCase()==="INPUT"&&d(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var S=0;S<this.files.length;S++)f.push({file:this.files[S],inputElem:this,instanceConfig:d.extend({},i)})}),h(),this;function h(){if(f.length!==0){var w,S,X,T,g=f[0];if(x(o.before)){var H=o.before(g.file,g.inputElem);if(typeof H=="object"){if(H.action==="abort")return w="AbortError",S=g.file,X=g.inputElem,T=H.reason,void(x(o.error)&&o.error({name:w},S,X,T));if(H.action==="skip")return void m();typeof H.config=="object"&&(g.instanceConfig=d.extend(g.instanceConfig,H.config))}else if(H==="skip")return void m()}var k=g.instanceConfig.complete;g.instanceConfig.complete=function(le){x(k)&&k(le,g.file,g.inputElem),m()},a.parse(g.file,g.instanceConfig)}else x(o.complete)&&o.complete()}function m(){f.splice(0,1),h()}}}function p(o){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(i){var f=z(i);f.chunkSize=parseInt(f.chunkSize),i.step||i.chunk||(f.chunkSize=null),this._handle=new M(f),(this._handle.streamer=this)._config=f}.call(this,o),this.parseChunk=function(i,f){if(this.isFirstChunk&&x(this._config.beforeFirstChunk)){var h=this._config.beforeFirstChunk(i);h!==void 0&&(i=h)}this.isFirstChunk=!1,this._halted=!1;var m=this._partialLine+i;this._partialLine="";var w=this._handle.parse(m,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var S=w.meta.cursor;this._finished||(this._partialLine=m.substring(S-this._baseIndex),this._baseIndex=S),w&&w.data&&(this._rowCount+=w.data.length);var X=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(l)r.postMessage({results:w,workerId:a.WORKER_ID,finished:X});else if(x(this._config.chunk)&&!f){if(this._config.chunk(w,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);w=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(w.data),this._completeResults.errors=this._completeResults.errors.concat(w.errors),this._completeResults.meta=w.meta),this._completed||!X||!x(this._config.complete)||w&&w.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),X||w&&w.meta.paused||this._nextChunk(),w}this._halted=!0},this._sendError=function(i){x(this._config.error)?this._config.error(i):l&&this._config.error&&r.postMessage({workerId:a.WORKER_ID,error:i,finished:!1})}}function b(o){var i;(o=o||{}).chunkSize||(o.chunkSize=a.RemoteChunkSize),p.call(this,o),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(f){this._input=f,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(i=new XMLHttpRequest,this._config.withCredentials&&(i.withCredentials=this._config.withCredentials),s||(i.onload=P(this._chunkLoaded,this),i.onerror=P(this._chunkError,this)),i.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var f=this._config.downloadRequestHeaders;for(var h in f)i.setRequestHeader(h,f[h])}if(this._config.chunkSize){var m=this._start+this._config.chunkSize-1;i.setRequestHeader("Range","bytes="+this._start+"-"+m)}try{i.send(this._config.downloadRequestBody)}catch(w){this._chunkError(w.message)}s&&i.status===0&&this._chunkError()}},this._chunkLoaded=function(){i.readyState===4&&(i.status<200||400<=i.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:i.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(f){var h=f.getResponseHeader("Content-Range");return h===null?-1:parseInt(h.substring(h.lastIndexOf("/")+1))}(i),this.parseChunk(i.responseText)))},this._chunkError=function(f){var h=i.statusText||f;this._sendError(new Error(h))}}function R(o){var i,f;(o=o||{}).chunkSize||(o.chunkSize=a.LocalChunkSize),p.call(this,o);var h=typeof FileReader<"u";this.stream=function(m){this._input=m,f=m.slice||m.webkitSlice||m.mozSlice,h?((i=new FileReader).onload=P(this._chunkLoaded,this),i.onerror=P(this._chunkError,this)):i=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var m=this._input;if(this._config.chunkSize){var w=Math.min(this._start+this._config.chunkSize,this._input.size);m=f.call(m,this._start,w)}var S=i.readAsText(m,this._config.encoding);h||this._chunkLoaded({target:{result:S}})},this._chunkLoaded=function(m){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(m.target.result)},this._chunkError=function(){this._sendError(i.error)}}function v(o){var i;p.call(this,o=o||{}),this.stream=function(f){return i=f,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var f,h=this._config.chunkSize;return h?(f=i.substring(0,h),i=i.substring(h)):(f=i,i=""),this._finished=!i,this.parseChunk(f)}}}function O(o){p.call(this,o=o||{});var i=[],f=!0,h=!1;this.pause=function(){p.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){p.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(m){this._input=m,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){h&&i.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),i.length?this.parseChunk(i.shift()):f=!0},this._streamData=P(function(m){try{i.push(typeof m=="string"?m:m.toString(this._config.encoding)),f&&(f=!1,this._checkIsFinished(),this.parseChunk(i.shift()))}catch(w){this._streamError(w)}},this),this._streamError=P(function(m){this._streamCleanUp(),this._sendError(m)},this),this._streamEnd=P(function(){this._streamCleanUp(),h=!0,this._streamData("")},this),this._streamCleanUp=P(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function M(o){var i,f,h,m=Math.pow(2,53),w=-m,S=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,X=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,T=this,g=0,H=0,k=!1,le=!1,ne=[],y={data:[],errors:[],meta:{}};if(x(o.step)){var N=o.step;o.step=function(_){if(y=_,J())j();else{if(j(),y.data.length===0)return;g+=_.data.length,o.preview&&g>o.preview?f.abort():(y.data=y.data[0],N(y,T))}}}function Q(_){return o.skipEmptyLines==="greedy"?_.join("").trim()==="":_.length===1&&_[0].length===0}function j(){return y&&h&&(Y("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),h=!1),o.skipEmptyLines&&(y.data=y.data.filter(function(_){return!Q(_)})),J()&&function(){if(!y)return;function _(W,ee){x(o.transformHeader)&&(W=o.transformHeader(W,ee)),ne.push(W)}if(Array.isArray(y.data[0])){for(var F=0;J()&&F<y.data.length;F++)y.data[F].forEach(_);y.data.splice(0,1)}else y.data.forEach(_)}(),function(){if(!y||!o.header&&!o.dynamicTyping&&!o.transform)return y;function _(W,ee){var A,I=o.header?{}:[];for(A=0;A<W.length;A++){var K=A,E=W[A];o.header&&(K=A>=ne.length?"__parsed_extra":ne[A]),o.transform&&(E=o.transform(E,K)),E=Z(K,E),K==="__parsed_extra"?(I[K]=I[K]||[],I[K].push(E)):I[K]=E}return o.header&&(A>ne.length?Y("FieldMismatch","TooManyFields","Too many fields: expected "+ne.length+" fields but parsed "+A,H+ee):A<ne.length&&Y("FieldMismatch","TooFewFields","Too few fields: expected "+ne.length+" fields but parsed "+A,H+ee)),I}var F=1;return!y.data.length||Array.isArray(y.data[0])?(y.data=y.data.map(_),F=y.data.length):y.data=_(y.data,0),o.header&&y.meta&&(y.meta.fields=ne),H+=F,y}()}function J(){return o.header&&ne.length===0}function Z(_,F){return W=_,o.dynamicTypingFunction&&o.dynamicTyping[W]===void 0&&(o.dynamicTyping[W]=o.dynamicTypingFunction(W)),(o.dynamicTyping[W]||o.dynamicTyping)===!0?F==="true"||F==="TRUE"||F!=="false"&&F!=="FALSE"&&(function(ee){if(S.test(ee)){var A=parseFloat(ee);if(w<A&&A<m)return!0}return!1}(F)?parseFloat(F):X.test(F)?new Date(F):F===""?null:F):F;var W}function Y(_,F,W,ee){var A={type:_,code:F,message:W};ee!==void 0&&(A.row=ee),y.errors.push(A)}this.parse=function(_,F,W){var ee=o.quoteChar||'"';if(o.newline||(o.newline=function(K,E){K=K.substring(0,1048576);var Oe=new RegExp(D(E)+"([^]*?)"+D(E),"gm"),me=(K=K.replace(Oe,"")).split("\r"),pe=K.split(`
`),oe=1<pe.length&&pe[0].length<me[0].length;if(me.length===1||oe)return`
`;for(var ce=0,ue=0;ue<me.length;ue++)me[ue][0]===`
`&&ce++;return ce>=me.length/2?`\r
`:"\r"}(_,ee)),h=!1,o.delimiter)x(o.delimiter)&&(o.delimiter=o.delimiter(_),y.meta.delimiter=o.delimiter);else{var A=function(K,E,Oe,me,pe){var oe,ce,ue,re;pe=pe||[",","	","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var ye=0;ye<pe.length;ye++){var se=pe[ye],Ae=0,be=0,qe=0;ue=void 0;for(var Ue=new L({comments:me,delimiter:se,newline:E,preview:10}).parse(K),Ze=0;Ze<Ue.data.length;Ze++)if(Oe&&Q(Ue.data[Ze]))qe++;else{var Ve=Ue.data[Ze].length;be+=Ve,ue!==void 0?0<Ve&&(Ae+=Math.abs(Ve-ue),ue=Ve):ue=Ve}0<Ue.data.length&&(be/=Ue.data.length-qe),(ce===void 0||Ae<=ce)&&(re===void 0||re<be)&&1.99<be&&(ce=Ae,oe=se,re=be)}return{successful:!!(o.delimiter=oe),bestDelimiter:oe}}(_,o.newline,o.skipEmptyLines,o.comments,o.delimitersToGuess);A.successful?o.delimiter=A.bestDelimiter:(h=!0,o.delimiter=a.DefaultDelimiter),y.meta.delimiter=o.delimiter}var I=z(o);return o.preview&&o.header&&I.preview++,i=_,f=new L(I),y=f.parse(i,F,W),j(),k?{meta:{paused:!0}}:y||{meta:{paused:!1}}},this.paused=function(){return k},this.pause=function(){k=!0,f.abort(),i=x(o.chunk)?"":i.substring(f.getCharIndex())},this.resume=function(){T.streamer._halted?(k=!1,T.streamer.parseChunk(i,!0)):setTimeout(T.resume,3)},this.aborted=function(){return le},this.abort=function(){le=!0,f.abort(),y.meta.aborted=!0,x(o.complete)&&o.complete(y),i=""}}function D(o){return o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function L(o){var i,f=(o=o||{}).delimiter,h=o.newline,m=o.comments,w=o.step,S=o.preview,X=o.fastMode,T=i=o.quoteChar===void 0||o.quoteChar===null?'"':o.quoteChar;if(o.escapeChar!==void 0&&(T=o.escapeChar),(typeof f!="string"||-1<a.BAD_DELIMITERS.indexOf(f))&&(f=","),m===f)throw new Error("Comment character same as delimiter");m===!0?m="#":(typeof m!="string"||-1<a.BAD_DELIMITERS.indexOf(m))&&(m=!1),h!==`
`&&h!=="\r"&&h!==`\r
`&&(h=`
`);var g=0,H=!1;this.parse=function(k,le,ne){if(typeof k!="string")throw new Error("Input must be a string");var y=k.length,N=f.length,Q=h.length,j=m.length,J=x(w),Z=[],Y=[],_=[],F=g=0;if(!k)return re();if(X||X!==!1&&k.indexOf(i)===-1){for(var W=k.split(h),ee=0;ee<W.length;ee++){if(_=W[ee],g+=_.length,ee!==W.length-1)g+=h.length;else if(ne)return re();if(!m||_.substring(0,j)!==m){if(J){if(Z=[],pe(_.split(f)),ye(),H)return re()}else pe(_.split(f));if(S&&S<=ee)return Z=Z.slice(0,S),re(!0)}}return re()}for(var A=k.indexOf(f,g),I=k.indexOf(h,g),K=new RegExp(D(T)+D(i),"g"),E=k.indexOf(i,g);;)if(k[g]!==i)if(m&&_.length===0&&k.substring(g,g+j)===m){if(I===-1)return re();g=I+Q,I=k.indexOf(h,g),A=k.indexOf(f,g)}else if(A!==-1&&(A<I||I===-1))_.push(k.substring(g,A)),g=A+N,A=k.indexOf(f,g);else{if(I===-1)break;if(_.push(k.substring(g,I)),ue(I+Q),J&&(ye(),H))return re();if(S&&Z.length>=S)return re(!0)}else for(E=g,g++;;){if((E=k.indexOf(i,E+1))===-1)return ne||Y.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Z.length,index:g}),ce();if(E===y-1)return ce(k.substring(g,E).replace(K,i));if(i!==T||k[E+1]!==T){if(i===T||E===0||k[E-1]!==T){A!==-1&&A<E+1&&(A=k.indexOf(f,E+1)),I!==-1&&I<E+1&&(I=k.indexOf(h,E+1));var Oe=oe(I===-1?A:Math.min(A,I));if(k.substr(E+1+Oe,N)===f){_.push(k.substring(g,E).replace(K,i)),k[g=E+1+Oe+N]!==i&&(E=k.indexOf(i,g)),A=k.indexOf(f,g),I=k.indexOf(h,g);break}var me=oe(I);if(k.substring(E+1+me,E+1+me+Q)===h){if(_.push(k.substring(g,E).replace(K,i)),ue(E+1+me+Q),A=k.indexOf(f,g),E=k.indexOf(i,g),J&&(ye(),H))return re();if(S&&Z.length>=S)return re(!0);break}Y.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Z.length,index:g}),E++}}else E++}return ce();function pe(se){Z.push(se),F=g}function oe(se){var Ae=0;if(se!==-1){var be=k.substring(E+1,se);be&&be.trim()===""&&(Ae=be.length)}return Ae}function ce(se){return ne||(se===void 0&&(se=k.substring(g)),_.push(se),g=y,pe(_),J&&ye()),re()}function ue(se){g=se,pe(_),_=[],I=k.indexOf(h,g)}function re(se){return{data:Z,errors:Y,meta:{delimiter:f,linebreak:h,aborted:H,truncated:!!se,cursor:F+(le||0)}}}function ye(){w(re()),Z=[],Y=[]}},this.abort=function(){H=!0},this.getCharIndex=function(){return g}}function q(o){var i=o.data,f=c[i.workerId],h=!1;if(i.error)f.userError(i.error,i.file);else if(i.results&&i.results.data){var m={abort:function(){h=!0,V(i.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:B,resume:B};if(x(f.userStep)){for(var w=0;w<i.results.data.length&&(f.userStep({data:i.results.data[w],errors:i.results.errors,meta:i.results.meta},m),!h);w++);delete i.results}else x(f.userChunk)&&(f.userChunk(i.results,m,i.file),delete i.results)}i.finished&&!h&&V(i.workerId,i.results)}function V(o,i){var f=c[o];x(f.userComplete)&&f.userComplete(i),f.terminate(),delete c[o]}function B(){throw new Error("Not implemented.")}function z(o){if(typeof o!="object"||o===null)return o;var i=Array.isArray(o)?[]:{};for(var f in o)i[f]=z(o[f]);return i}function P(o,i){return function(){o.apply(i,arguments)}}function x(o){return typeof o=="function"}return l&&(r.onmessage=function(o){var i=o.data;if(a.WORKER_ID===void 0&&i&&(a.WORKER_ID=i.workerId),typeof i.input=="string")r.postMessage({workerId:a.WORKER_ID,results:a.parse(i.input,i.config),finished:!0});else if(r.File&&i.input instanceof File||i.input instanceof Object){var f=a.parse(i.input,i.config);f&&r.postMessage({workerId:a.WORKER_ID,results:f,finished:!0})}}),(b.prototype=Object.create(p.prototype)).constructor=b,(R.prototype=Object.create(p.prototype)).constructor=R,(v.prototype=Object.create(v.prototype)).constructor=v,(O.prototype=Object.create(p.prototype)).constructor=O,a})})(Yt);const Bt=t=>{const e=[],n=Yt.exports.parse(t,{skipEmptyLines:"greedy"}).data;n.shift();let r;for(let s=0;s<n.length;s++){const[l,,c,...u]=n[s];if(l)r={budgets:[],id:wt(),name:l},e.push(r);else if(c&&r){const a=u.map(d=>d.replace(/[^\d]/g,"")).map(Number).slice(0,12);r.budgets.push({id:wt(),name:c.trim(),values:a})}}return e},xs=ie({__name:"GoogleAnnualBudgetScreen",props:{back:null},emits:["loaded"],setup(t,{emit:e}){const{setBudgetGroups:n}=Ne(),r=ae(),s=ae(),{t:l}=We(),c=async()=>{if(r.value&&s.value){const u=Bt(await _t(r.value)),a=Bt(await _t(s.value));n("expenses",u),n("income",a),e("loaded")}};return(u,a)=>(U(),fe(Ht,{back:t.back,class:C(u.$style.screen),title:$(l)("data.import.start.google")},{default:Ee(()=>[G(lt,{class:C(u.$style.input),modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=d=>s.value=d),placeholder:$(l)("data.import.google.income"),accept:[".csv"]},null,8,["class","modelValue","placeholder","accept"]),G(lt,{class:C(u.$style.input),modelValue:r.value,"onUpdate:modelValue":a[1]||(a[1]=d=>r.value=d),placeholder:$(l)("data.import.google.expenses"),accept:[".csv"]},null,8,["class","modelValue","placeholder","accept"]),r.value&&s.value?(U(),fe($e,{key:0,icon:"upload-cloud-2-line",text:$(l)("data.import.import"),onClick:c},null,8,["text"])):Pe("",!0)]),_:1},8,["back","class","title"]))}}),Os="Ha",Es="Ia",$s={screen:Os,input:Es},Cs={$style:$s},Rs=ge(xs,[["__cssModules",Cs]]),Ss=ie({__name:"Dialog",props:{open:{type:Boolean},contentClass:null},emits:["close"],setup(t,{emit:e}){const n=t,r=ae(),s=ae(),l=ae(!1),c=ut(),u=te(()=>[c.dialog,{[c.open]:n.open}]);Lt(r,()=>l.value&&e("close"));const a=()=>{var d;n.open||(d=s.value)==null||d.close()};return rt(()=>n.open,d=>{var p;d?((p=s.value)==null||p.showModal(),requestAnimationFrame(()=>l.value=!0)):l.value=!1}),ct(()=>{var d;s.value&&(s.value.remove(),(d=document.getElementById("app"))==null||d.append(s.value))}),(d,p)=>(U(),_e("dialog",{ref_key:"dialog",ref:s,class:C($(u)),onTransitionend:a},[de("div",{ref_key:"content",ref:r,class:C([d.$style.content,t.contentClass])},[Te(d.$slots,"default")],2)],34))}}),As="Ra",Ms="Sa",Ds="Ta",Bs={dialog:As,open:Ms,content:Ds},Ps={$style:Bs},Ts=ge(Ss,[["__cssModules",Ps]]),Ls=ie({__name:"ImportButton",props:{class:null},setup(t){const e=t,n=te(()=>e.class),r=kt(),s=kt(),l=ae(!1),{t:c}=We(),u=()=>{var d;(d=s.value)==null||d.reset(),l.value=!1},a=d=>{var p;r.value=d,(p=s.value)==null||p.next()};return(d,p)=>(U(),_e(ft,null,[G(bt,{class:C($(n)),text:$(c)("data.import.import"),icon:"upload-cloud-2-line",onClick:p[0]||(p[0]=b=>l.value=!0)},null,8,["class","text"]),G(Ts,{ref:"dialog",open:l.value,onClose:p[3]||(p[3]=b=>l.value=!1)},{default:Ee(()=>[G(rs,{ref_key:"steps",ref:s,onFinish:u},{default:Ee(({previous:b})=>[G(Dt,{class:C(d.$style.step)},{default:Ee(()=>[de("h1",{class:C(d.$style.title)},st($(c)("data.import.start.title")),3),G($e,{icon:"file-fill",text:$(c)("data.import.start.ocular"),onClick:p[1]||(p[1]=R=>a(_s))},null,8,["text"]),G($e,{icon:"google-fill",text:$(c)("data.import.start.google"),onClick:p[2]||(p[2]=R=>a(Rs))},null,8,["text"])]),_:1},8,["class"]),G(Dt,null,{default:Ee(()=>[$(r)?(U(),fe(on($(r)),{key:0,back:b,onLoaded:u},null,40,["back"])):Pe("",!0)]),_:2},1024)]),_:1},512)]),_:1},8,["open"])],64))}}),Is="Y",js="Z",Fs={step:Is,title:js},zs={$style:Fs},Ns=ge(Ls,[["__cssModules",zs]]),Ws=ie({__name:"DataTransferButton",props:{class:null},setup(t){const e=t,n=te(()=>e.class);return(r,s)=>(U(),fe(ot,{class:C($(n))},{options:Ee(()=>[G(Yr),G(Ns)]),default:Ee(()=>[G($e,{icon:"settings-4-line",textual:"",color:"dimmed"})]),_:1},8,["class"]))}}),qs=ie({__name:"ChangeLanguageButton",props:{class:null},setup(t){const e=t,{t:n}=We(),{changeLocale:r,state:s}=Ne(),l=te(()=>e.class),c=te(()=>an.map(u=>({id:u,icon:s.locale===u?"check":void 0,label:n(`locale.${u}`)})));return(u,a)=>(U(),fe(ot,{class:C($(l)),options:$(c),onSelect:a[0]||(a[0]=d=>$(r)(d.id))},{default:Ee(()=>[G($e,{icon:"global-line",textual:"",color:"dimmed"})]),_:1},8,["class","options"]))}}),Us=["gbp","eur","usd"],Vs=ie({__name:"ChangeCurrencyButton",props:{class:null},setup(t){const e=t,{t:n}=We(),{changeCurrency:r,state:s}=Ne(),l=te(()=>e.class),c=te(()=>Us.map(u=>({id:u,icon:s.currency===u?"check":void 0,label:n(`currency.${u}`)})));return(u,a)=>(U(),fe(ot,{class:C($(l)),options:$(c),onSelect:a[0]||(a[0]=d=>$(r)(d.id))},{default:Ee(()=>[G($e,{icon:"currency-line",textual:"",color:"dimmed"})]),_:1},8,["class","options"]))}}),Hs=ie({__name:"Frame",setup(t){const e=ae(),n=ln(),r=[{icon:"donut-chart",id:"dashboard",link:"/dashboard"},{icon:"hand-coin",id:"income",link:"/income"},{icon:"shopping-basket-2",id:"expenses",link:"/expenses"}];return(s,l)=>(U(),_e("div",{class:C(s.$style.frame)},[de("div",{ref_key:"menu",ref:e,class:C(s.$style.buttons)},[G(Hr,{class:C(s.$style.btn)},null,8,["class"]),de("div",{class:C(s.$style.divider)},null,2),(U(),_e(ft,null,Tt(r,c=>G(Kt,{class:C(s.$style.btn),key:c.id,color:$(n).currentRoute.value.path.startsWith(c.link)?"primary":"dimmed",icon:c.icon,to:c.link},null,8,["class","color","icon","to"])),64)),G(Ws,{class:C([s.$style.top,s.$style.btn])},null,8,["class"]),G(Nr,{class:C(s.$style.btn)},null,8,["class"]),G(qs,{class:C(s.$style.btn)},null,8,["class"]),G(Vs,{class:C(s.$style.btn)},null,8,["class"]),de("div",{class:C(s.$style.divider)},null,2),G(yn,{class:C(s.$style.btn)},null,8,["class"])],2),de("div",{ref:"panes",class:C(s.$style.panes)},[G(Gt)],2)],2))}}),Ys="m",Ks="n",Gs="o",Xs="p",Qs="q",Js="r",Zs={frame:Ys,panes:Ks,buttons:Gs,top:Xs,divider:Qs,btn:Js},ei={$style:Zs},li=ge(Hs,[["__cssModules",ei]]);export{li as default};
